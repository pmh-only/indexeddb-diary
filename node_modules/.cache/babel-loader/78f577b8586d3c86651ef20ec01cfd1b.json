{"ast":null,"code":"module.exports = function (e) {\n  var t = {};\n\n  function n(r) {\n    if (t[r]) return t[r].exports;\n    var o = t[r] = {\n      i: r,\n      l: !1,\n      exports: {}\n    };\n    return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n  }\n\n  return n.m = e, n.c = t, n.d = function (e, t, r) {\n    n.o(e, t) || Object.defineProperty(e, t, {\n      enumerable: !0,\n      get: r\n    });\n  }, n.r = function (e) {\n    \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n      value: \"Module\"\n    }), Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, n.t = function (e, t) {\n    if (1 & t && (e = n(e)), 8 & t) return e;\n    if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n    var r = Object.create(null);\n    if (n.r(r), Object.defineProperty(r, \"default\", {\n      enumerable: !0,\n      value: e\n    }), 2 & t && \"string\" != typeof e) for (var o in e) {\n      n.d(r, o, function (t) {\n        return e[t];\n      }.bind(null, o));\n    }\n    return r;\n  }, n.n = function (e) {\n    var t = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return n.d(t, \"a\", t), t;\n  }, n.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, n.p = \"\", n(n.s = 1);\n}([function (e, t, n) {\n  \"use strict\";\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.DBMode = t.DBOperations = t.CreateObjectStore = t.openDatabase = void 0;\n  var r,\n      o = n(4),\n      a = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;\n\n  function i(e, t, n) {\n    return new Promise(function (r, o) {\n      var i,\n          c = a.open(e, t);\n      c.onsuccess = function (e) {\n        i = c.result, r(i);\n      }, c.onerror = function (e) {\n        o(\"IndexedDB error: \" + c.error);\n      }, \"function\" == typeof n && (c.onupgradeneeded = function (e) {\n        n(e, i);\n      });\n    });\n  }\n\n  t.openDatabase = i, t.CreateObjectStore = function (e, t, n) {\n    var r = a.open(e, t);\n    r.onupgradeneeded = function (e) {\n      var t = e.target.result;\n      n.forEach(function (e) {\n        if (!t.objectStoreNames.contains(e.store)) {\n          var n = t.createObjectStore(e.store, e.storeConfig);\n          e.storeSchema.forEach(function (e) {\n            n.createIndex(e.name, e.keypath, e.options);\n          });\n        }\n      }), t.close();\n    }, r.onsuccess = function (e) {\n      e.target.result.close();\n    };\n  }, t.DBOperations = function (e, t, n) {\n    return {\n      add: function add(a, c) {\n        return new Promise(function (u, s) {\n          i(e, t).then(function (e) {\n            o.createTransaction(e, o.optionsGenerator(r.readwrite, n, s, u)).objectStore(n).add(a, c).onsuccess = function (e) {\n              c = e.target.result, u(c);\n            };\n          });\n        });\n      },\n      getByID: function getByID(a) {\n        return new Promise(function (c, u) {\n          i(e, t).then(function (e) {\n            o.validateBeforeTransaction(e, n, u), o.createTransaction(e, o.optionsGenerator(r.readonly, n, u, c)).objectStore(n).get(+a).onsuccess = function (e) {\n              c(e.target.result);\n            };\n          });\n        });\n      },\n      getAll: function getAll() {\n        return new Promise(function (a, c) {\n          i(e, t).then(function (e) {\n            o.validateBeforeTransaction(e, n, c);\n            var t = o.createTransaction(e, o.optionsGenerator(r.readonly, n, c, a)).objectStore(n).getAll();\n            t.onerror = function (e) {\n              c(e);\n            }, t.onsuccess = function (e) {\n              var t = e.target.result;\n              a(t);\n            };\n          });\n        });\n      },\n      update: function update(a, c) {\n        return new Promise(function (u, s) {\n          i(e, t).then(function (e) {\n            o.validateBeforeTransaction(e, n, s);\n            var t = o.createTransaction(e, o.optionsGenerator(r.readwrite, n, s, u)),\n                i = t.objectStore(n);\n            t.oncomplete = function (e) {\n              u(e);\n            }, i.put(a, c);\n          });\n        });\n      },\n      deleteRecord: function deleteRecord(a) {\n        return new Promise(function (c, u) {\n          i(e, t).then(function (e) {\n            o.validateBeforeTransaction(e, n, u), o.createTransaction(e, o.optionsGenerator(r.readwrite, n, u, c)).objectStore(n).delete(a).onsuccess = function (e) {\n              c(e);\n            };\n          });\n        });\n      },\n      clear: function clear() {\n        return new Promise(function (a, c) {\n          i(e, t).then(function (e) {\n            o.validateBeforeTransaction(e, n, c);\n            var t = o.createTransaction(e, o.optionsGenerator(r.readwrite, n, c, a));\n            t.objectStore(n).clear(), t.oncomplete = function (e) {\n              a();\n            };\n          });\n        });\n      },\n      openCursor: function openCursor(a, c) {\n        return new Promise(function (u, s) {\n          i(e, t).then(function (e) {\n            o.validateBeforeTransaction(e, n, s), o.createTransaction(e, o.optionsGenerator(r.readonly, n, s, u)).objectStore(n).openCursor(c).onsuccess = function (e) {\n              a(e), u();\n            };\n          });\n        });\n      },\n      getByIndex: function getByIndex(a, c) {\n        return new Promise(function (u, s) {\n          i(e, t).then(function (e) {\n            o.validateBeforeTransaction(e, n, s), o.createTransaction(e, o.optionsGenerator(r.readonly, n, s, u)).objectStore(n).index(a).get(c).onsuccess = function (e) {\n              u(e.target.result);\n            };\n          });\n        });\n      }\n    };\n  }, function (e) {\n    e.readonly = \"readonly\", e.readwrite = \"readwrite\";\n  }(r = t.DBMode || (t.DBMode = {}));\n}, function (e, t, n) {\n  \"use strict\";\n\n  var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {\n    void 0 === r && (r = n), Object.defineProperty(e, r, {\n      enumerable: !0,\n      get: function get() {\n        return t[n];\n      }\n    });\n  } : function (e, t, n, r) {\n    void 0 === r && (r = n), e[r] = t[n];\n  }),\n      o = this && this.__exportStar || function (e, t) {\n    for (var n in e) {\n      \"default\" === n || t.hasOwnProperty(n) || r(t, e, n);\n    }\n  };\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n  var a = n(2);\n  Object.defineProperty(t, \"AccessDB\", {\n    enumerable: !0,\n    get: function get() {\n      return a.AccessDB;\n    }\n  }), Object.defineProperty(t, \"IndexedDB\", {\n    enumerable: !0,\n    get: function get() {\n      return a.IndexedDB;\n    }\n  }), o(n(5), t);\n}, function (e, t, n) {\n  \"use strict\";\n\n  var r = this && this.__assign || function () {\n    return (r = Object.assign || function (e) {\n      for (var t, n = 1, r = arguments.length; n < r; n++) {\n        for (var o in t = arguments[n]) {\n          Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);\n        }\n      }\n\n      return e;\n    }).apply(this, arguments);\n  },\n      o = this && this.__awaiter || function (e, t, n, r) {\n    return new (n || (n = Promise))(function (o, a) {\n      function i(e) {\n        try {\n          u(r.next(e));\n        } catch (e) {\n          a(e);\n        }\n      }\n\n      function c(e) {\n        try {\n          u(r.throw(e));\n        } catch (e) {\n          a(e);\n        }\n      }\n\n      function u(e) {\n        var t;\n        e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function (e) {\n          e(t);\n        })).then(i, c);\n      }\n\n      u((r = r.apply(e, t || [])).next());\n    });\n  },\n      a = this && this.__generator || function (e, t) {\n    var n,\n        r,\n        o,\n        a,\n        i = {\n      label: 0,\n      sent: function sent() {\n        if (1 & o[0]) throw o[1];\n        return o[1];\n      },\n      trys: [],\n      ops: []\n    };\n    return a = {\n      next: c(0),\n      throw: c(1),\n      return: c(2)\n    }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n      return this;\n    }), a;\n\n    function c(a) {\n      return function (c) {\n        return function (a) {\n          if (n) throw new TypeError(\"Generator is already executing.\");\n\n          for (; i;) {\n            try {\n              if (n = 1, r && (o = 2 & a[0] ? r.return : a[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, a[1])).done) return o;\n\n              switch (r = 0, o && (a = [2 & a[0], o.value]), a[0]) {\n                case 0:\n                case 1:\n                  o = a;\n                  break;\n\n                case 4:\n                  return i.label++, {\n                    value: a[1],\n                    done: !1\n                  };\n\n                case 5:\n                  i.label++, r = a[1], a = [0];\n                  continue;\n\n                case 7:\n                  a = i.ops.pop(), i.trys.pop();\n                  continue;\n\n                default:\n                  if (!(o = i.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== a[0] && 2 !== a[0])) {\n                    i = 0;\n                    continue;\n                  }\n\n                  if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {\n                    i.label = a[1];\n                    break;\n                  }\n\n                  if (6 === a[0] && i.label < o[1]) {\n                    i.label = o[1], o = a;\n                    break;\n                  }\n\n                  if (o && i.label < o[2]) {\n                    i.label = o[2], i.ops.push(a);\n                    break;\n                  }\n\n                  o[2] && i.ops.pop(), i.trys.pop();\n                  continue;\n              }\n\n              a = t.call(e, i);\n            } catch (e) {\n              a = [6, e], r = 0;\n            } finally {\n              n = o = 0;\n            }\n          }\n\n          if (5 & a[0]) throw a[1];\n          return {\n            value: a[0] ? a[1] : void 0,\n            done: !0\n          };\n        }([a, c]);\n      };\n    }\n  },\n      i = this && this.__importDefault || function (e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  };\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.AccessDB = t.IndexedDB = void 0;\n  var c = i(n(3)),\n      u = n(0),\n      s = c.default.createContext({\n    db: null,\n    name: null,\n    version: null\n  }),\n      f = s.Provider,\n      l = s.Consumer;\n  t.IndexedDB = function (e) {\n    var t = this,\n        n = e.name,\n        r = e.version,\n        i = e.children;\n    return e.objectStoresMeta.forEach(function (e) {\n      return o(t, void 0, void 0, function () {\n        return a(this, function (t) {\n          switch (t.label) {\n            case 0:\n              return [4, u.openDatabase(n, r, function (t) {\n                var n = t.currentTarget.result.createObjectStore(e.store, e.storeConfig);\n                e.storeSchema.forEach(function (e) {\n                  n.createIndex(e.name, e.keypath, e.options);\n                });\n              })];\n\n            case 1:\n              return t.sent(), [2];\n          }\n        });\n      });\n    }), c.default.createElement(f, {\n      value: {\n        db: null,\n        name: n,\n        version: r\n      }\n    }, i);\n  }, t.AccessDB = function (e) {\n    var t = e.children,\n        n = e.objectStore;\n    return c.default.createElement(l, null, function (e) {\n      var o = e.db,\n          a = e.name,\n          i = e.version;\n      return t(r({\n        db: o\n      }, u.DBOperations(a, i, n)));\n    });\n  };\n}, function (e, t) {\n  e.exports = require(\"react\");\n}, function (e, t, n) {\n  \"use strict\";\n\n  function r(e, t) {\n    return e.objectStoreNames.contains(t);\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.optionsGenerator = t.createTransaction = t.validateBeforeTransaction = t.validateStoreName = void 0, t.validateStoreName = r, t.validateBeforeTransaction = function (e, t, n) {\n    e || n(\"You need to use the openDatabase function to create a database before you query it!\"), r(e, t) || n(\"objectStore does not exists: \" + t);\n  }, t.createTransaction = function (e, t) {\n    var n = e.transaction(t.storeName, t.dbMode);\n    return n.onerror = t.error, n.oncomplete = t.complete, n.onabort = t.abort, n;\n  }, t.optionsGenerator = function (e, t, n, r) {\n    return {\n      storeName: t,\n      dbMode: e,\n      error: function error(e) {\n        n(e);\n      },\n      complete: function complete(e) {\n        r();\n      },\n      abort: function abort(e) {\n        n(e);\n      }\n    };\n  };\n}, function (e, t, n) {\n  \"use strict\";\n\n  var r = this && this.__assign || function () {\n    return (r = Object.assign || function (e) {\n      for (var t, n = 1, r = arguments.length; n < r; n++) {\n        for (var o in t = arguments[n]) {\n          Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);\n        }\n      }\n\n      return e;\n    }).apply(this, arguments);\n  };\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.useIndexedDB = t.initDB = void 0;\n  var o = n(0),\n      a = {\n    version: null,\n    name: null\n  };\n  t.initDB = function (e) {\n    var t = e.name,\n        n = e.version,\n        r = e.objectStoresMeta;\n    a.name = t, a.version = n, Object.freeze(a), o.CreateObjectStore(t, n, r);\n  }, t.useIndexedDB = function (e) {\n    if (!a.name || !a.version) throw new Error(\"Please, initialize the DB before the use.\");\n    return r({}, o.DBOperations(a.name, a.version, e));\n  };\n}]);","map":{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///src/indexed-db.ts","webpack:///src/index.tsx","webpack:///src/indexed-context.tsx","webpack:/external \"react\"","webpack:///src/Utils.ts","webpack:///src/indexed-hooks.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","indexedDB","window","mozIndexedDB","webkitIndexedDB","msIndexedDB","openDatabase","dbName","version","upgradeCallback","Promise","resolve","reject","request","open","db","onsuccess","event","result","onerror","error","onupgradeneeded","storeSchemas","database","target","forEach","storeSchema","objectStoreNames","contains","store","createObjectStore","storeConfig","schema","createIndex","keypath","options","close","e","currentStore","add","then","DBMode","readwrite","objectStore","evt","getByID","id","readonly","getAll","update","transaction","oncomplete","put","deleteRecord","delete","clear","openCursor","cursorCallback","keyRange","getByIndex","indexName","index","IndexedDBContext","createContext","IndexedDBProvider","Provider","IndexedDBCosumer","Consumer","children","currentTarget","require","validateStoreName","storeName","trans","dbMode","complete","onabort","abort","type","indexeddbConfiguration","objectStoresMeta","freeze","Error"],"mappings":"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","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","import { validateBeforeTransaction, createTransaction, optionsGenerator } from './Utils';\nimport { ObjectStoreMeta, ObjectStoreSchema } from './indexed-hooks';\n\nexport type Key = string | number | Date | ArrayBufferView | ArrayBuffer | IDBArrayKey | IDBKeyRange;\nexport interface IndexDetails {\n  indexName: string;\n  order: string;\n}\nconst indexedDB: IDBFactory =\n  window.indexedDB || (<any>window).mozIndexedDB || (<any>window).webkitIndexedDB || (<any>window).msIndexedDB;\n\nexport function openDatabase(dbName: string, version: number, upgradeCallback?: Function) {\n  return new Promise<IDBDatabase>((resolve, reject) => {\n    const request = indexedDB.open(dbName, version);\n    let db: IDBDatabase;\n    request.onsuccess = (event: Event) => {\n      db = request.result;\n      resolve(db);\n    };\n    request.onerror = (event: Event) => {\n      reject(`IndexedDB error: ${request.error}`);\n    };\n    if (typeof upgradeCallback === 'function') {\n      request.onupgradeneeded = (event: Event) => {\n        upgradeCallback(event, db);\n      };\n    }\n  });\n}\n\nexport function CreateObjectStore(dbName: string, version: number, storeSchemas: ObjectStoreMeta[]) {\n  const request: IDBOpenDBRequest = indexedDB.open(dbName, version);\n\n  request.onupgradeneeded = function(event: IDBVersionChangeEvent) {\n    const database: IDBDatabase = (event.target as any).result;\n    storeSchemas.forEach((storeSchema: ObjectStoreMeta) => {\n      if (!database.objectStoreNames.contains(storeSchema.store)) {\n        const objectStore = database.createObjectStore(storeSchema.store, storeSchema.storeConfig);\n        storeSchema.storeSchema.forEach((schema: ObjectStoreSchema) => {\n          objectStore.createIndex(schema.name, schema.keypath, schema.options);\n        });\n      }\n    });\n    database.close();\n  };\n  request.onsuccess = function(e: any) {\n    e.target.result.close();\n  };\n}\n\nexport function DBOperations(dbName: string, version: number, currentStore: string) {\n  return {\n    add<T>(value: T, key?: any) {\n      return new Promise<number>((resolve, reject) => {\n        openDatabase(dbName, version).then((db: IDBDatabase) => {\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore);\n          let request = objectStore.add(value, key);\n          request.onsuccess = (evt: any) => {\n            key = evt.target.result;\n            resolve(key);\n          };\n        });\n      });\n    },\n    getByID<T>(id: string | number) {\n      return new Promise<T>((resolve, reject) => {\n        openDatabase(dbName, version).then((db: IDBDatabase) => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readonly, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore),\n            request: IDBRequest;\n          request = objectStore.get(+id);\n          request.onsuccess = function(event: Event) {\n            resolve((event.target as any).result as T);\n          };\n        });\n      });\n    },\n    getAll<T>() {\n      return new Promise<T[]>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readonly, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore),\n            result: Array<any> = [];\n\n          const request: IDBRequest = objectStore.getAll();\n\n          request.onerror = function(e) {\n            reject(e);\n          };\n\n          request.onsuccess = function({ target: { result } }: any) {\n            resolve(result as T[]);\n          };\n        });\n      });\n    },\n    update<T>(value: T, key?: any) {\n      return new Promise<any>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore);\n          transaction.oncomplete = event => {\n            resolve(event);\n          };\n          objectStore.put(value, key);\n        });\n      });\n    },\n    deleteRecord(key: Key) {\n      return new Promise<any>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore);\n          let request = objectStore.delete(key);\n          request.onsuccess = event => {\n            resolve(event);\n          };\n        });\n      });\n    },\n    clear() {\n      return new Promise<any>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore);\n          objectStore.clear();\n          transaction.oncomplete = event => {\n            resolve();\n          };\n        });\n      });\n    },\n    openCursor(cursorCallback: (event: Event) => void, keyRange?: IDBKeyRange) {\n      return new Promise<void>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readonly, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore),\n            request = objectStore.openCursor(keyRange);\n\n          request.onsuccess = (event: Event) => {\n            cursorCallback(event);\n            resolve();\n          };\n        });\n      });\n    },\n    getByIndex(indexName: string, key: any) {\n      return new Promise<any>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readonly, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore),\n            index = objectStore.index(indexName),\n            request = index.get(key);\n          request.onsuccess = (event: Event) => {\n            resolve((<IDBOpenDBRequest>event.target).result);\n          };\n        });\n      });\n    }\n  };\n}\n\nexport enum DBMode {\n  readonly = 'readonly',\n  readwrite = 'readwrite'\n}\n","export { AccessDB, IndexedDB } from './indexed-context';\nexport * from './indexed-hooks';\n","import React, { ReactNode } from 'react';\nimport { DBOperations, openDatabase, Key } from './indexed-db';\n\ninterface IndexedDBProps {\n  name: string;\n  version: number;\n  children: ReactNode;\n  objectStoresMeta: ObjectStoreMeta[];\n}\n\ninterface ObjectStoreMeta {\n  store: string;\n  storeConfig: { keyPath: string; autoIncrement: boolean; [key: string]: any };\n  storeSchema: ObjectStoreSchema[];\n}\n\ninterface ObjectStoreSchema {\n  name: string;\n  keypath: string;\n  options: { unique: boolean; [key: string]: any };\n}\n\nconst IndexedDBContext = React.createContext<{ db: any; name: string; version: number }>({\n  db: null,\n  name: null,\n  version: null\n});\n\nconst IndexedDBProvider = IndexedDBContext.Provider;\nconst IndexedDBCosumer = IndexedDBContext.Consumer;\n\nexport function IndexedDB({ name, version, children, objectStoresMeta }: IndexedDBProps) {\n  objectStoresMeta.forEach(async (schema: ObjectStoreMeta) => {\n    const db = await openDatabase(name, version, (event: any) => {\n      let db: IDBDatabase = event.currentTarget.result;\n      let objectStore = db.createObjectStore(schema.store, schema.storeConfig);\n      schema.storeSchema.forEach((schema: ObjectStoreSchema) => {\n        objectStore.createIndex(schema.name, schema.keypath, schema.options);\n      });\n    });\n  });\n  return <IndexedDBProvider value={{ db: null, name, version }}>{children}</IndexedDBProvider>;\n}\n\ninterface AccessDBProps {\n  children: ({\n    db\n  }: {\n    db: IDBDatabase;\n    add: <T = any>(value: T, key?: any) => Promise<number>;\n    getByID: <T = any>(id: number | string) => Promise<T>;\n    getAll: <T = any>() => Promise<T[]>;\n    update: <T = any>(value: T, key?: any) => Promise<any>;\n    deleteRecord: (key: Key) => Promise<any>;\n    openCursor: (cursorCallback: (event: Event) => void, keyRange?: IDBKeyRange) => Promise<void>;\n    getByIndex: (indexName: string, key: any) => Promise<any>;\n    clear: () => Promise<any>;\n  }) => {};\n  objectStore: string;\n}\n\nexport function AccessDB({ children, objectStore }: AccessDBProps) {\n  return (\n    <IndexedDBCosumer>\n      {value => {\n        const { db, name, version } = value;\n        // openDatabase(name, version);\n        return children({ db, ...DBOperations(name, version, objectStore) });\n      }}\n    </IndexedDBCosumer>\n  );\n}\n","module.exports = require(\"react\");","export interface Options {\n  storeName: string;\n  dbMode: IDBTransactionMode;\n  error: (e: Event) => any;\n  complete: (e: Event) => any;\n  abort?: any;\n}\n\nexport function validateStoreName(db: IDBDatabase, storeName: string) {\n  return db.objectStoreNames.contains(storeName);\n}\n\nexport function validateBeforeTransaction(db: IDBDatabase, storeName: string, reject: Function) {\n  if (!db) {\n    reject('You need to use the openDatabase function to create a database before you query it!');\n  }\n  if (!validateStoreName(db, storeName)) {\n    reject(`objectStore does not exists: ${storeName}`);\n  }\n}\n\nexport function createTransaction(db: IDBDatabase, options: Options): IDBTransaction {\n  let trans: IDBTransaction = db.transaction(options.storeName, options.dbMode);\n  trans.onerror = options.error;\n  trans.oncomplete = options.complete;\n  trans.onabort = options.abort;\n  return trans;\n}\n\nexport function optionsGenerator(type: any, storeName: any, reject: Function, resolve: Function): Options {\n  return {\n    storeName: storeName,\n    dbMode: type,\n    error: (e: Event) => {\n      reject(e);\n    },\n    complete: (e: Event) => {\n      resolve();\n    },\n    abort: (e: Event) => {\n      reject(e);\n    }\n  };\n}\n\n// export function* processRequest({ request, success, error }: any) {\n//   request.onerror = function(event: Event) {\n//     error(error);\n//     yield error;\n//   };\n//   request.onsuccess = function(evt: Event) {\n//     let cursor: IDBCursorWithValue = (<IDBRequest>evt.target).result;\n//     if (cursor) {\n//       result.push(cursor.value);\n//       cursor.continue();\n//     } else {\n//       resolve(result);\n//     }\n//   };\n// }\n","import { DBOperations, openDatabase, Key, CreateObjectStore } from './indexed-db';\n\nexport interface IndexedDBProps {\n  name: string;\n  version: number;\n  objectStoresMeta: ObjectStoreMeta[];\n}\n\nexport interface ObjectStoreMeta {\n  store: string;\n  storeConfig: { keyPath: string; autoIncrement: boolean; [key: string]: any };\n  storeSchema: ObjectStoreSchema[];\n}\n\nexport interface ObjectStoreSchema {\n  name: string;\n  keypath: string;\n  options: { unique: boolean; [key: string]: any };\n}\n\nexport interface useIndexedDB {\n  dbName: string;\n  version: number;\n  objectStore: string;\n}\n\nlet indexeddbConfiguration: { version: number; name: string } = { version: null, name: null };\n\nexport function initDB({ name, version, objectStoresMeta }: IndexedDBProps) {\n  indexeddbConfiguration.name = name;\n  indexeddbConfiguration.version = version;\n  Object.freeze(indexeddbConfiguration);\n  CreateObjectStore(name, version, objectStoresMeta);\n}\n\nexport function useIndexedDB(\n  objectStore: string\n): {\n  add: <T = any>(value: T, key?: any) => Promise<number>;\n  getByID: <T = any>(id: number | string) => Promise<T>;\n  getAll: <T = any>() => Promise<T[]>;\n  update: <T = any>(value: T, key?: any) => Promise<any>;\n  deleteRecord: (key: Key) => Promise<any>;\n  openCursor: (cursorCallback: (event: Event) => void, keyRange?: IDBKeyRange) => Promise<void>;\n  getByIndex: (indexName: string, key: any) => Promise<any>;\n  clear: () => Promise<any>;\n} {\n  if (!indexeddbConfiguration.name || !indexeddbConfiguration.version) {\n    throw new Error('Please, initialize the DB before the use.');\n  }\n  return { ...DBOperations(indexeddbConfiguration.name, indexeddbConfiguration.version, objectStore) };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}