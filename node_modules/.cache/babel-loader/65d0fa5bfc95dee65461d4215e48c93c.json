{"ast":null,"code":"/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n'use strict';\n\nimport _icons from '../assets/defaultIcons';\nimport _defaultLang from '../lang/en';\nimport util from './util';\nexport default {\n  /**\r\n   * @description document create\r\n   * @param {Element} element Textarea\r\n   * @param {Object} options Options\r\n   * @returns {Object}\r\n   */\n  init: function init(element, options) {\n    if (typeof options !== 'object') options = {};\n    var doc = document;\n    /** --- init options --- */\n\n    this._initOptions(element, options); // suneditor div\n\n\n    var top_div = doc.createElement('DIV');\n    top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\n    if (element.id) top_div.id = 'suneditor_' + element.id; // relative div\n\n    var relative = doc.createElement('DIV');\n    relative.className = 'se-container'; // toolbar\n\n    var tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\n\n    tool_bar.element.style.visibility = 'hidden';\n    if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\n    var arrow = doc.createElement('DIV');\n    arrow.className = 'se-arrow'; // sticky toolbar dummy\n\n    var sticky_dummy = doc.createElement('DIV');\n    sticky_dummy.className = 'se-toolbar-sticky-dummy'; // inner editor div\n\n    var editor_div = doc.createElement('DIV');\n    editor_div.className = 'se-wrapper';\n    /** --- init elements and create bottom bar --- */\n\n    var initElements = this._initElements(options, top_div, tool_bar.element, arrow);\n\n    var bottomBar = initElements.bottomBar;\n    var wysiwyg_div = initElements.wysiwygFrame;\n    var placeholder_span = initElements.placeholder;\n    var textarea = initElements.codeView; // resizing bar\n\n    var resizing_bar = bottomBar.resizingBar;\n    var navigation = bottomBar.navigation;\n    var char_wrapper = bottomBar.charWrapper;\n    var char_counter = bottomBar.charCounter; // loading box\n\n    var loading_box = doc.createElement('DIV');\n    loading_box.className = 'se-loading-box sun-editor-common';\n    loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>'; // enter line\n\n    var line_breaker = doc.createElement('DIV');\n    line_breaker.className = 'se-line-breaker';\n    line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\n    var line_breaker_t = doc.createElement('DIV');\n    line_breaker_t.className += 'se-line-breaker-component';\n    var line_breaker_b = line_breaker_t.cloneNode(true);\n    line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break; // resize operation background\n\n    var resize_back = doc.createElement('DIV');\n    resize_back.className = 'se-resizing-back'; // toolbar container\n\n    var toolbarContainer = options.toolbarContainer;\n\n    if (toolbarContainer) {\n      toolbarContainer.appendChild(tool_bar.element);\n    }\n    /** append html */\n\n\n    editor_div.appendChild(textarea);\n    if (placeholder_span) editor_div.appendChild(placeholder_span);\n    if (!toolbarContainer) relative.appendChild(tool_bar.element);\n    relative.appendChild(sticky_dummy);\n    relative.appendChild(editor_div);\n    relative.appendChild(resize_back);\n    relative.appendChild(loading_box);\n    relative.appendChild(line_breaker);\n    relative.appendChild(line_breaker_t);\n    relative.appendChild(line_breaker_b);\n    if (resizing_bar) relative.appendChild(resizing_bar);\n    top_div.appendChild(relative);\n    textarea = this._checkCodeMirror(options, textarea);\n    return {\n      constructed: {\n        _top: top_div,\n        _relative: relative,\n        _toolBar: tool_bar.element,\n        _menuTray: tool_bar._menuTray,\n        _editorArea: editor_div,\n        _wysiwygArea: wysiwyg_div,\n        _codeArea: textarea,\n        _placeholder: placeholder_span,\n        _resizingBar: resizing_bar,\n        _navigation: navigation,\n        _charWrapper: char_wrapper,\n        _charCounter: char_counter,\n        _loading: loading_box,\n        _lineBreaker: line_breaker,\n        _lineBreaker_t: line_breaker_t,\n        _lineBreaker_b: line_breaker_b,\n        _resizeBack: resize_back,\n        _stickyDummy: sticky_dummy,\n        _arrow: arrow\n      },\n      options: options,\n      plugins: tool_bar.plugins,\n      pluginCallButtons: tool_bar.pluginCallButtons,\n      _responsiveButtons: tool_bar.responsiveButtons\n    };\n  },\n\n  /**\r\n   * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n   * @param {Object} options options\r\n   * @param {Element} textarea textarea element\r\n   * @private\r\n   */\n  _checkCodeMirror: function _checkCodeMirror(options, textarea) {\n    if (options.codeMirror) {\n      var cmOptions = [{\n        mode: 'htmlmixed',\n        htmlMode: true,\n        lineNumbers: true,\n        lineWrapping: true\n      }, options.codeMirror.options || {}].reduce(function (init, option) {\n        for (var key in option) {\n          if (util.hasOwn(option, key)) init[key] = option[key];\n        }\n\n        return init;\n      }, {});\n\n      if (options.height === 'auto') {\n        cmOptions.viewportMargin = Infinity;\n        cmOptions.height = 'auto';\n      }\n\n      var cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\n      cm.display.wrapper.style.cssText = textarea.style.cssText;\n      options.codeMirrorEditor = cm;\n      textarea = cm.display.wrapper;\n      textarea.className += ' se-wrapper-code-mirror';\n    }\n\n    return textarea;\n  },\n\n  /**\r\n   * @description Check for a katex object.\r\n   * @param {Object} katex katex object\r\n   * @private\r\n   */\n  _checkKatexMath: function _checkKatexMath(katex) {\n    if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\n    var katexOptions = [{\n      throwOnError: false\n    }, katex.options || {}].reduce(function (init, option) {\n      for (var key in option) {\n        if (util.hasOwn(option, key)) init[key] = option[key];\n      }\n\n      return init;\n    }, {});\n    katex.options = katexOptions;\n  },\n\n  /**\r\n   * @description Add or reset options\r\n   * @param {Object} mergeOptions New options property\r\n   * @param {Object} context Context object of core\r\n   * @param {Object} originOptions Origin options\r\n   * @returns {Object} pluginCallButtons\r\n   * @private\r\n   */\n  _setOptions: function _setOptions(mergeOptions, context, originOptions) {\n    this._initOptions(context.element.originElement, mergeOptions);\n\n    var el = context.element;\n    var relative = el.relative;\n    var editorArea = el.editorArea;\n    var isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\n    var isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.buttonList !== originOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\n\n    var tool_bar = this._createToolBar(document, isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList, mergeOptions.plugins, mergeOptions);\n\n    if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\n    var arrow = document.createElement('DIV');\n    arrow.className = 'se-arrow';\n\n    if (isNewToolbar) {\n      tool_bar.element.style.visibility = 'hidden'; // toolbar container\n\n      if (isNewToolbarContainer) {\n        mergeOptions.toolbarContainer.appendChild(tool_bar.element);\n        el.toolbar.parentElement.removeChild(el.toolbar);\n      } else {\n        el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\n      }\n\n      el.toolbar = tool_bar.element;\n      el._menuTray = tool_bar._menuTray;\n      el._arrow = arrow;\n    }\n\n    var initElements = this._initElements(mergeOptions, el.topArea, isNewToolbar ? tool_bar.element : el.toolbar, arrow);\n\n    var bottomBar = initElements.bottomBar;\n    var wysiwygFrame = initElements.wysiwygFrame;\n    var placeholder_span = initElements.placeholder;\n    var code = initElements.codeView;\n    if (el.resizingBar) relative.removeChild(el.resizingBar);\n    if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\n    editorArea.innerHTML = '';\n    editorArea.appendChild(code);\n    if (placeholder_span) editorArea.appendChild(placeholder_span);\n    code = this._checkCodeMirror(mergeOptions, code);\n    el.resizingBar = bottomBar.resizingBar;\n    el.navigation = bottomBar.navigation;\n    el.charWrapper = bottomBar.charWrapper;\n    el.charCounter = bottomBar.charCounter;\n    el.wysiwygFrame = wysiwygFrame;\n    el.code = code;\n    el.placeholder = placeholder_span;\n    if (mergeOptions.rtl) util.addClass(el.topArea, 'se-rtl');else util.removeClass(el.topArea, 'se-rtl');\n    return {\n      callButtons: tool_bar.pluginCallButtons,\n      plugins: tool_bar.plugins,\n      toolbar: tool_bar\n    };\n  },\n\n  /**\r\n   * @description Initialize property of suneditor elements\r\n   * @param {Object} options Options\r\n   * @param {Element} topDiv Suneditor top div\r\n   * @param {Element} toolBar Tool bar\r\n   * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n   * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n   * @private\r\n   */\n  _initElements: function _initElements(options, topDiv, toolBar, toolBarArrow) {\n    /** top div */\n    topDiv.style.cssText = options._editorStyles.top;\n    /** toolbar */\n\n    if (/inline/i.test(options.mode)) {\n      toolBar.className += ' se-toolbar-inline';\n      toolBar.style.width = options.toolbarWidth;\n    } else if (/balloon/i.test(options.mode)) {\n      toolBar.className += ' se-toolbar-balloon';\n      toolBar.style.width = options.toolbarWidth;\n      toolBar.appendChild(toolBarArrow);\n    }\n    /** editor */\n    // wysiwyg div or iframe\n\n\n    var wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\n    wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\n\n    if (!options.iframe) {\n      wysiwygDiv.setAttribute('contenteditable', true);\n      wysiwygDiv.setAttribute('scrolling', 'auto');\n      wysiwygDiv.className += ' ' + options._editableClass;\n      wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\n    } else {\n      wysiwygDiv.allowFullscreen = true;\n      wysiwygDiv.frameBorder = 0;\n      wysiwygDiv.style.cssText = options._editorStyles.frame;\n    } // textarea for code view\n\n\n    var textarea = document.createElement('TEXTAREA');\n    textarea.className = 'se-wrapper-inner se-wrapper-code';\n    textarea.style.cssText = options._editorStyles.frame;\n    textarea.style.display = 'none';\n    if (options.height === 'auto') textarea.style.overflow = 'hidden';\n    /** resize bar */\n\n    var resizingBar = null;\n    var navigation = null;\n    var charWrapper = null;\n    var charCounter = null;\n\n    if (options.resizingBar) {\n      resizingBar = document.createElement('DIV');\n      resizingBar.className = 'se-resizing-bar sun-editor-common';\n      /** navigation */\n\n      navigation = document.createElement('DIV');\n      navigation.className = 'se-navigation sun-editor-common';\n      resizingBar.appendChild(navigation);\n      /** char counter */\n\n      if (options.charCounter) {\n        charWrapper = document.createElement('DIV');\n        charWrapper.className = 'se-char-counter-wrapper';\n\n        if (options.charCounterLabel) {\n          var charLabel = document.createElement('SPAN');\n          charLabel.className = 'se-char-label';\n          charLabel.textContent = options.charCounterLabel;\n          charWrapper.appendChild(charLabel);\n        }\n\n        charCounter = document.createElement('SPAN');\n        charCounter.className = 'se-char-counter';\n        charCounter.textContent = '0';\n        charWrapper.appendChild(charCounter);\n\n        if (options.maxCharCount > 0) {\n          var char_max = document.createElement('SPAN');\n          char_max.textContent = ' / ' + options.maxCharCount;\n          charWrapper.appendChild(char_max);\n        }\n\n        resizingBar.appendChild(charWrapper);\n      }\n    }\n\n    var placeholder = null;\n\n    if (options.placeholder) {\n      placeholder = document.createElement('SPAN');\n      placeholder.className = 'se-placeholder';\n      placeholder.innerText = options.placeholder;\n    }\n\n    return {\n      bottomBar: {\n        resizingBar: resizingBar,\n        navigation: navigation,\n        charWrapper: charWrapper,\n        charCounter: charCounter\n      },\n      wysiwygFrame: wysiwygDiv,\n      codeView: textarea,\n      placeholder: placeholder\n    };\n  },\n\n  /**\r\n   * @description Initialize options\r\n   * @param {Element} element Options object\r\n   * @param {Object} options Options object\r\n   * @private\r\n   */\n  _initOptions: function _initOptions(element, options) {\n    /** Values */\n    options.lang = options.lang || _defaultLang;\n    options.defaultTag = typeof options.defaultTag === 'string' ? options.defaultTag : 'p';\n    var textTags = options.textTags = [{\n      bold: 'STRONG',\n      underline: 'U',\n      italic: 'EM',\n      strike: 'DEL',\n      sub: 'SUB',\n      sup: 'SUP'\n    }, options.textTags || {}].reduce(function (_default, _new) {\n      for (var key in _new) {\n        _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {});\n    options._textTagsMap = {\n      'strong': textTags.bold.toLowerCase(),\n      'b': textTags.bold.toLowerCase(),\n      'u': textTags.underline.toLowerCase(),\n      'ins': textTags.underline.toLowerCase(),\n      'em': textTags.italic.toLowerCase(),\n      'i': textTags.italic.toLowerCase(),\n      'del': textTags.strike.toLowerCase(),\n      'strike': textTags.strike.toLowerCase(),\n      's': textTags.strike.toLowerCase(),\n      'sub': textTags.sub.toLowerCase(),\n      'sup': textTags.sup.toLowerCase()\n    };\n    options.value = typeof options.value === 'string' ? options.value : null;\n    options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\n    /** Whitelist */\n\n    var whitelist = 'br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary';\n    options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : whitelist;\n    options._editorTagsWhitelist = this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : ''), options.tagsBlacklist);\n    options.pasteTagsWhitelist = this._setWhitelist(typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist);\n    options.attributesWhitelist = !options.attributesWhitelist || typeof options.attributesWhitelist !== 'object' ? null : options.attributesWhitelist;\n    /** Layout */\n\n    options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\n\n    options.rtl = !!options.rtl;\n    options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\n    options._printClass = typeof options._printClass === 'string' ? options._printClass : null;\n    options.toolbarWidth = options.toolbarWidth ? util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth : 'auto';\n    options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\n    options.stickyToolbar = /balloon/i.test(options.mode) || !!options.toolbarContainer ? -1 : options.stickyToolbar === undefined ? 0 : /^\\d+/.test(options.stickyToolbar) ? util.getNumber(options.stickyToolbar, 0) : -1;\n    options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : /^\\d+/.test(options.fullScreenOffset) ? util.getNumber(options.fullScreenOffset, 0) : 0;\n    options.iframe = options.fullPage || options.iframe;\n    options.fullPage = !!options.fullPage;\n    options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : options.iframeCSSFileName || ['suneditor'] : null;\n    options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\n    options.printTemplate = typeof options.printTemplate === 'string' ? options.printTemplate : null;\n    /** CodeMirror object */\n\n    options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {\n      src: options.codeMirror\n    } : null;\n    /** katex object (Math plugin) */\n\n    options.katex = options.katex ? options.katex.src ? options.katex : {\n      src: options.katex\n    } : null;\n    options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [{\n      text: '1',\n      value: '1em'\n    }, {\n      text: '1.5',\n      value: '1.5em'\n    }, {\n      text: '2',\n      value: '2em'\n    }, {\n      text: '2.5',\n      value: '2.5em'\n    }];\n    /** Display */\n\n    options.position = typeof options.position === 'string' ? options.position : null;\n    options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\n    options.popupDisplay = options.popupDisplay || 'full';\n    /** Bottom resizing bar */\n\n    options.resizingBar = options.resizingBar === undefined ? /inline|balloon/i.test(options.mode) ? false : true : options.resizingBar;\n    options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\n    /** Character count */\n\n    options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\n    options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\n    options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\n    options.maxCharCount = util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\n    /** Width size */\n\n    options.width = options.width ? util.isNumber(options.width) ? options.width + 'px' : options.width : element.clientWidth ? element.clientWidth + 'px' : '100%';\n    options.minWidth = (util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\n    options.maxWidth = (util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\n    /** Height size */\n\n    options.height = options.height ? util.isNumber(options.height) ? options.height + 'px' : options.height : element.clientHeight ? element.clientHeight + 'px' : 'auto';\n    options.minHeight = (util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\n    options.maxHeight = (util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\n    /** Editing area default style */\n\n    options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\n    /** Defining menu items */\n\n    options.font = !options.font ? null : options.font;\n    options.fontSize = !options.fontSize ? null : options.fontSize;\n    options.formats = !options.formats ? null : options.formats;\n    options.colorList = !options.colorList ? null : options.colorList;\n    options.lineHeights = !options.lineHeights ? null : options.lineHeights;\n    options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\n    options.textStyles = !options.textStyles ? null : options.textStyles;\n    options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? options.fontSizeUnit.trim() || 'px' : 'px';\n    /** Image */\n\n    options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\n    options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\n    options.imageWidth = !options.imageWidth ? 'auto' : util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\n    options.imageHeight = !options.imageHeight ? 'auto' : util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\n    options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\n    options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\n    options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\n    options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\n    options.imageUrlInput = options.imageUrlInput === undefined || !options.imageFileInput ? true : options.imageUrlInput;\n    options.imageUploadHeader = options.imageUploadHeader || null;\n    options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\n    options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? util.getNumber(options.imageUploadSizeLimit, 0) : null;\n    options.imageMultipleFile = !!options.imageMultipleFile;\n    options.imageAccept = typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\" ? 'image/*' : options.imageAccept.trim() || 'image/*';\n    /** Image - image gallery */\n\n    options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\n    options.imageGalleryHeader = options.imageGalleryHeader || null;\n    /** Video */\n\n    options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\n    options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\n    options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\n    options.videoWidth = !options.videoWidth || !util.getNumber(options.videoWidth, 0) ? '' : util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\n    options.videoHeight = !options.videoHeight || !util.getNumber(options.videoHeight, 0) ? '' : util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\n    options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\n    options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\n    options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\n    options.videoRatio = util.getNumber(options.videoRatio, 4) || 0.5625;\n    options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\n    options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\n    options.videoFileInput = !!options.videoFileInput;\n    options.videoUrlInput = options.videoUrlInput === undefined || !options.videoFileInput ? true : options.videoUrlInput;\n    options.videoUploadHeader = options.videoUploadHeader || null;\n    options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\n    options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? util.getNumber(options.videoUploadSizeLimit, 0) : null;\n    options.videoMultipleFile = !!options.videoMultipleFile;\n    options.videoTagAttrs = options.videoTagAttrs || null;\n    options.videoIframeAttrs = options.videoIframeAttrs || null;\n    options.videoAccept = typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\" ? 'video/*' : options.videoAccept.trim() || 'video/*';\n    /** Audio */\n\n    options.audioWidth = !options.audioWidth ? '' : util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\n    options.audioHeight = !options.audioHeight ? '' : util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\n    options.audioFileInput = !!options.audioFileInput;\n    options.audioUrlInput = options.audioUrlInput === undefined || !options.audioFileInput ? true : options.audioUrlInput;\n    options.audioUploadHeader = options.audioUploadHeader || null;\n    options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\n    options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? util.getNumber(options.audioUploadSizeLimit, 0) : null;\n    options.audioMultipleFile = !!options.audioMultipleFile;\n    options.audioTagAttrs = options.audioTagAttrs || null;\n    options.audioAccept = typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\" ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\n    /** Table */\n\n    options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\n    /** Link */\n\n    options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\n    options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\n    options.linkRelDefault = options.linkRelDefault || {};\n    /** Key actions */\n\n    options.tabDisable = !!options.tabDisable;\n    options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\n    options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\n    /** Defining save button */\n\n    options.callBackSave = !options.callBackSave ? null : options.callBackSave;\n    /** Templates Array */\n\n    options.templates = !options.templates ? null : options.templates;\n    /** ETC */\n\n    options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\n    options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\n    /** Buttons */\n\n    options.buttonList = !!options.buttonList ? options.buttonList : [['undo', 'redo'], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['removeFormat'], ['outdent', 'indent'], ['fullScreen', 'showBlocks', 'codeView'], ['preview', 'print']];\n    /** RTL - buttons */\n\n    if (options.rtl) {\n      options.buttonList = options.buttonList.reverse();\n    }\n    /** --- Define icons --- */\n    // custom icons\n\n\n    options.icons = !options.icons || typeof options.icons !== 'object' ? _icons : [_icons, options.icons].reduce(function (_default, _new) {\n      for (var key in _new) {\n        if (util.hasOwn(_new, key)) _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {}); // rtl icons\n\n    options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\n      for (var key in _new) {\n        if (util.hasOwn(_new, key)) _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {});\n    /** _init options */\n\n    options._editorStyles = util._setDefaultOptionStyle(options, options.defaultStyle);\n  },\n  _setWhitelist: function _setWhitelist(whitelist, blacklist) {\n    if (typeof blacklist !== 'string') return whitelist;\n    blacklist = blacklist.split('|');\n    whitelist = whitelist.split('|');\n\n    for (var i = 0, len = blacklist.length, index; i < len; i++) {\n      index = whitelist.indexOf(blacklist[i]);\n      if (index > -1) whitelist.splice(index, 1);\n    }\n\n    return whitelist.join('|');\n  },\n\n  /**\r\n   * @description Suneditor's Default button list\r\n   * @param {Object} options options\r\n   * @private\r\n   */\n  _defaultButtons: function _defaultButtons(options) {\n    var icons = options.icons;\n    var lang = options.lang;\n    var cmd = util.isOSX_IOS ? '⌘' : 'CTRL';\n    var addShift = util.isOSX_IOS ? '⇧' : '+SHIFT';\n    var shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent', 'save'] : options.shortcutsDisable;\n    var indentKey = options.rtl ? ['[', ']'] : [']', '['];\n    return {\n      /** default command */\n      bold: ['_se_command_bold', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'bold', '', icons.bold],\n      underline: ['_se_command_underline', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'underline', '', icons.underline],\n      italic: ['_se_command_italic', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'italic', '', icons.italic],\n      strike: ['_se_command_strike', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'strike', '', icons.strike],\n      subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\n      superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\n      removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\n      indent: ['_se_command_indent', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', icons.outdent],\n      outdent: ['_se_command_outdent', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', icons.indent],\n      fullScreen: ['se-code-view-enabled se-resizing-enabled _se_command_fullScreen', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\n      showBlocks: ['_se_command_showBlocks', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\n      codeView: ['se-code-view-enabled se-resizing-enabled _se_command_codeView', lang.toolbar.codeView, 'codeView', '', icons.code_view],\n      undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\n      redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\n      preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\n      print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\n      save: ['_se_command_save se-resizing-enabled', lang.toolbar.save + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('save') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'save', '', icons.save],\n\n      /** plugins - command */\n      blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\n\n      /** plugins - submenu */\n      font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\n      formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\n      fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\n      fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\n      hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\n      align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', options.rtl ? icons.align_right : icons.align_left],\n      list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\n      horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\n      table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\n      lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\n      template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\n      paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\n      textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\n\n      /** plugins - dialog */\n      link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\n      image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\n      video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\n      audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\n      math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\n\n      /** plugins - fileBrowser */\n      imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\n    };\n  },\n\n  /**\r\n   * @description Create a group div containing each module\r\n   * @returns {Object}\r\n   * @private\r\n   */\n  _createModuleGroup: function _createModuleGroup() {\n    var oDiv = util.createElement('DIV');\n    oDiv.className = 'se-btn-module se-btn-module-border';\n    var oUl = util.createElement('UL');\n    oUl.className = 'se-menu-list';\n    oDiv.appendChild(oUl);\n    return {\n      'div': oDiv,\n      'ul': oUl\n    };\n  },\n\n  /**\r\n   * @description Create a button element\r\n   * @param {string} buttonClass className in button\r\n   * @param {string} title Title in button\r\n   * @param {string} dataCommand The data-command property of the button\r\n   * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n   * @param {string} innerHTML Html in button\r\n   * @param {string} _disabled Button disabled\r\n   * @param {Object} _icons Icons\r\n   * @returns {Object}\r\n   * @private\r\n   */\n  _createButton: function _createButton(buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\n    var oLi = util.createElement('LI');\n    var oButton = util.createElement('BUTTON');\n    oButton.setAttribute('type', 'button');\n    oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\n    oButton.setAttribute('data-command', dataCommand);\n    oButton.setAttribute('data-display', dataDisplay);\n    oButton.setAttribute('tabindex', '-1');\n    if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\n\n    if (/^default\\./i.test(innerHTML)) {\n      innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\n    }\n\n    if (/^text\\./i.test(innerHTML)) {\n      innerHTML = innerHTML.replace(/^text\\./i, '');\n      oButton.className += ' se-btn-more-text';\n    }\n\n    innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\n    if (_disabled) oButton.setAttribute('disabled', true);\n    oButton.innerHTML = innerHTML;\n    oLi.appendChild(oButton);\n    return {\n      'li': oLi,\n      'button': oButton\n    };\n  },\n\n  /**\r\n   * @description Create editor HTML\r\n   * @param {Array} doc document object\r\n   * @param {Array} buttonList option.buttonList\r\n   * @param {Array|Object|null} _plugins Plugins\r\n   * @param {Array} options options\r\n   * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n   * @private\r\n   */\n  _createToolBar: function _createToolBar(doc, buttonList, _plugins, options) {\n    var separator_vertical = doc.createElement('DIV');\n    separator_vertical.className = 'se-toolbar-separator-vertical';\n    var tool_bar = doc.createElement('DIV');\n    tool_bar.className = 'se-toolbar sun-editor-common';\n\n    var _buttonTray = doc.createElement('DIV');\n\n    _buttonTray.className = 'se-btn-tray';\n    tool_bar.appendChild(_buttonTray);\n    /** create button list */\n\n    buttonList = JSON.parse(JSON.stringify(buttonList));\n    var icons = options.icons;\n\n    var defaultButtonList = this._defaultButtons(options);\n\n    var pluginCallButtons = {};\n    var responsiveButtons = [];\n    var plugins = {};\n\n    if (_plugins) {\n      var pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function (name) {\n        return _plugins[name];\n      });\n\n      for (var i = 0, len = pluginsValues.length, p; i < len; i++) {\n        p = pluginsValues[i].default || pluginsValues[i];\n        plugins[p.name] = p;\n      }\n    }\n\n    var module = null;\n    var button = null;\n    var moduleElement = null;\n    var buttonElement = null;\n    var pluginName = '';\n    var vertical = false;\n    var moreLayer = util.createElement('DIV');\n    moreLayer.className = 'se-toolbar-more-layer';\n\n    buttonGroupLoop: for (var _i = 0, more, moreContainer, moreCommand, buttonGroup, align; _i < buttonList.length; _i++) {\n      more = false;\n      align = '';\n      buttonGroup = buttonList[_i];\n      moduleElement = this._createModuleGroup(); // button object\n\n      if (typeof buttonGroup === 'object') {\n        // buttons loop\n        for (var j = 0, moreButton; j < buttonGroup.length; j++) {\n          button = buttonGroup[j];\n          moreButton = false;\n\n          if (/^\\%\\d+/.test(button) && j === 0) {\n            buttonGroup[0] = button.replace(/[^\\d]/g, '');\n            responsiveButtons.push(buttonGroup);\n            buttonList.splice(_i--, 1);\n            continue buttonGroupLoop;\n          }\n\n          if (typeof button === 'object') {\n            if (typeof button.add === 'function') {\n              pluginName = button.name;\n              module = defaultButtonList[pluginName];\n              plugins[pluginName] = button;\n            } else {\n              pluginName = button.name;\n              module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\n            }\n          } else {\n            // align\n            if (/^\\-/.test(button)) {\n              align = button.substr(1);\n              moduleElement.div.style.float = align;\n              continue;\n            } // more button\n\n\n            if (/^\\:/.test(button)) {\n              moreButton = true;\n              var matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\n              moreCommand = '__se__' + matched[1].trim();\n              var title = matched[2].trim();\n              var innerHTML = matched[3].trim();\n              module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\n            } // buttons\n            else {\n                module = defaultButtonList[button];\n              }\n\n            pluginName = button;\n\n            if (!module) {\n              var custom = plugins[pluginName];\n              if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\n              module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\n            }\n          }\n\n          buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\n          (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\n\n          if (plugins[pluginName]) {\n            pluginCallButtons[pluginName] = buttonElement.button;\n          } // more button\n\n\n          if (moreButton) {\n            more = true;\n            moreContainer = util.createElement('DIV');\n            moreContainer.className = 'se-more-layer ' + moreCommand;\n            moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\n            moreLayer.appendChild(moreContainer);\n            moreContainer = moreContainer.firstElementChild.firstElementChild;\n          }\n        }\n\n        if (vertical) {\n          var sv = separator_vertical.cloneNode(false);\n\n          _buttonTray.appendChild(sv);\n        }\n\n        _buttonTray.appendChild(moduleElement.div);\n\n        vertical = true;\n      }\n      /** line break  */\n      else if (/^\\/$/.test(buttonGroup)) {\n          var enterDiv = doc.createElement('DIV');\n          enterDiv.className = 'se-btn-module-enter';\n\n          _buttonTray.appendChild(enterDiv);\n\n          vertical = false;\n        }\n    }\n\n    switch (_buttonTray.children.length) {\n      case 0:\n        _buttonTray.style.display = 'none';\n        break;\n\n      case 1:\n        util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\n        break;\n\n      default:\n        if (options.rtl) {\n          var _sv = separator_vertical.cloneNode(false);\n\n          _sv.style.float = _buttonTray.lastElementChild.style.float;\n\n          _buttonTray.appendChild(_sv);\n        }\n\n    }\n\n    if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\n    if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer); // menu tray\n\n    var _menuTray = doc.createElement('DIV');\n\n    _menuTray.className = 'se-menu-tray';\n    tool_bar.appendChild(_menuTray); // cover\n\n    var tool_cover = doc.createElement('DIV');\n    tool_cover.className = 'se-toolbar-cover';\n    tool_bar.appendChild(tool_cover);\n    return {\n      'element': tool_bar,\n      'plugins': plugins,\n      'pluginCallButtons': pluginCallButtons,\n      'responsiveButtons': responsiveButtons,\n      '_menuTray': _menuTray,\n      '_buttonTray': _buttonTray\n    };\n  }\n};","map":{"version":3,"sources":["/github/workspace/node_modules/suneditor/src/lib/constructor.js"],"names":["_icons","_defaultLang","util","init","element","options","doc","document","_initOptions","top_div","createElement","className","rtl","id","relative","tool_bar","_createToolBar","buttonList","plugins","style","visibility","pluginCallButtons","math","_checkKatexMath","katex","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","wysiwygFrame","placeholder_span","placeholder","textarea","codeView","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","innerHTML","line_breaker","icons","line_break","line_breaker_t","line_breaker_b","cloneNode","resize_back","toolbarContainer","appendChild","_checkCodeMirror","constructed","_top","_relative","_toolBar","_menuTray","_editorArea","_wysiwygArea","_codeArea","_placeholder","_resizingBar","_navigation","_charWrapper","_charCounter","_loading","_lineBreaker","_lineBreaker_t","_lineBreaker_b","_resizeBack","_stickyDummy","_arrow","_responsiveButtons","responsiveButtons","codeMirror","cmOptions","mode","htmlMode","lineNumbers","lineWrapping","reduce","option","key","hasOwn","height","viewportMargin","Infinity","cm","src","fromTextArea","display","wrapper","cssText","codeMirrorEditor","Error","katexOptions","throwOnError","_setOptions","mergeOptions","context","originOptions","originElement","el","editorArea","isNewToolbarContainer","isNewToolbar","lang","toolbar","parentElement","removeChild","replaceChild","topArea","code","addClass","removeClass","callButtons","topDiv","toolBar","toolBarArrow","_editorStyles","top","test","width","toolbarWidth","wysiwygDiv","iframe","setAttribute","_editableClass","frame","editor","allowFullscreen","frameBorder","overflow","charCounterLabel","charLabel","textContent","maxCharCount","char_max","innerText","defaultTag","textTags","bold","underline","italic","strike","sub","sup","_default","_new","_textTagsMap","toLowerCase","value","historyStackDelayTime","whitelist","_defaultTagsWhitelist","_editorTagsWhitelist","_setWhitelist","addTagsWhitelist","length","tagsBlacklist","pasteTagsWhitelist","pasteTagsBlacklist","attributesWhitelist","_printClass","isNumber","querySelector","stickyToolbar","undefined","getNumber","fullScreenOffset","fullPage","iframeCSSFileName","previewTemplate","printTemplate","mathFontSize","text","position","popupDisplay","showPathLabel","charCounterType","trim","clientWidth","minWidth","maxWidth","clientHeight","minHeight","maxHeight","defaultStyle","font","fontSize","formats","colorList","lineHeights","paragraphStyles","textStyles","fontSizeUnit","imageResizing","imageHeightShow","imageWidth","imageHeight","imageSizeOnlyPercentage","_imageSizeUnit","imageRotation","imageFileInput","imageUrlInput","imageUploadHeader","imageUploadUrl","imageUploadSizeLimit","imageMultipleFile","imageAccept","imageGalleryUrl","imageGalleryHeader","videoResizing","videoHeightShow","videoRatioShow","videoWidth","videoHeight","videoSizeOnlyPercentage","_videoSizeUnit","videoRotation","videoRatio","videoRatioList","youtubeQuery","replace","videoFileInput","videoUrlInput","videoUploadHeader","videoUploadUrl","videoUploadSizeLimit","videoMultipleFile","videoTagAttrs","videoIframeAttrs","videoAccept","audioWidth","audioHeight","audioFileInput","audioUrlInput","audioUploadHeader","audioUploadUrl","audioUploadSizeLimit","audioMultipleFile","audioTagAttrs","audioAccept","tableCellControllerPosition","linkProtocol","linkRel","Array","isArray","linkRelDefault","tabDisable","shortcutsDisable","shortcutsHint","callBackSave","templates","mediaAutoSelect","reverse","_setDefaultOptionStyle","blacklist","split","i","len","index","indexOf","splice","join","_defaultButtons","cmd","isOSX_IOS","addShift","indentKey","subscript","superscript","removeFormat","erase","indent","outdent","fullScreen","expansion","showBlocks","show_blocks","code_view","undo","redo","preview","print","save","blockquote","tag_blockquote","arrow_down","formatBlock","fontColor","font_color","hiliteColor","highlight_color","align","align_right","align_left","list","list_number","horizontalRule","horizontal_rule","table","lineHeight","line_height","template","paragraphStyle","paragraph_style","textStyle","text_style","link","image","video","audio","imageGallery","image_gallery","_createModuleGroup","oDiv","oUl","_createButton","buttonClass","title","dataCommand","dataDisplay","_disabled","oLi","oButton","_plugins","separator_vertical","_buttonTray","JSON","parse","stringify","defaultButtonList","pluginsValues","Object","keys","map","name","p","default","module","button","moduleElement","buttonElement","pluginName","vertical","moreLayer","buttonGroupLoop","more","moreContainer","moreCommand","buttonGroup","j","moreButton","push","add","substr","div","float","matched","match","custom","ul","li","firstElementChild","sv","enterDiv","children","lastElementChild","unshift","tool_cover"],"mappings":"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","sourcesContent":["/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport _icons from '../assets/defaultIcons';\r\nimport _defaultLang from '../lang/en';\r\nimport util from './util';\r\n\r\nexport default {\r\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\r\n    init: function (element, options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        const doc = document;\r\n\r\n        /** --- init options --- */\r\n        this._initOptions(element, options);\r\n    \r\n        // suneditor div\r\n        const top_div = doc.createElement('DIV');\r\n        top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\r\n        if (element.id) top_div.id = 'suneditor_' + element.id;\r\n    \r\n        // relative div\r\n        const relative = doc.createElement('DIV');\r\n        relative.className = 'se-container';\r\n    \r\n        // toolbar\r\n        const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\r\n        tool_bar.element.style.visibility = 'hidden';\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\r\n        const arrow = doc.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        // sticky toolbar dummy\r\n        const sticky_dummy = doc.createElement('DIV');\r\n        sticky_dummy.className = 'se-toolbar-sticky-dummy';\r\n    \r\n        // inner editor div\r\n        const editor_div = doc.createElement('DIV');\r\n        editor_div.className = 'se-wrapper';\r\n\r\n        /** --- init elements and create bottom bar --- */\r\n        const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwyg_div = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let textarea = initElements.codeView;\r\n\r\n        // resizing bar\r\n        const resizing_bar = bottomBar.resizingBar;\r\n        const navigation = bottomBar.navigation;\r\n        const char_wrapper = bottomBar.charWrapper;\r\n        const char_counter = bottomBar.charCounter;\r\n    \r\n        // loading box\r\n        const loading_box = doc.createElement('DIV');\r\n        loading_box.className = 'se-loading-box sun-editor-common';\r\n        loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>';\r\n\r\n        // enter line\r\n        const line_breaker = doc.createElement('DIV');\r\n        line_breaker.className = 'se-line-breaker';\r\n        line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\r\n        const line_breaker_t = doc.createElement('DIV');\r\n        line_breaker_t.className += 'se-line-breaker-component';\r\n        const line_breaker_b = line_breaker_t.cloneNode(true);\r\n        line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break;\r\n    \r\n        // resize operation background\r\n        const resize_back = doc.createElement('DIV');\r\n        resize_back.className = 'se-resizing-back';\r\n\r\n        // toolbar container\r\n        const toolbarContainer = options.toolbarContainer;\r\n        if (toolbarContainer) {\r\n            toolbarContainer.appendChild(tool_bar.element);\r\n        }\r\n    \r\n        /** append html */\r\n        editor_div.appendChild(textarea);\r\n        if (placeholder_span) editor_div.appendChild(placeholder_span);\r\n        if (!toolbarContainer) relative.appendChild(tool_bar.element);\r\n        relative.appendChild(sticky_dummy);\r\n        relative.appendChild(editor_div);\r\n        relative.appendChild(resize_back);\r\n        relative.appendChild(loading_box);\r\n        relative.appendChild(line_breaker);\r\n        relative.appendChild(line_breaker_t);\r\n        relative.appendChild(line_breaker_b);\r\n        if (resizing_bar) relative.appendChild(resizing_bar);\r\n        top_div.appendChild(relative);\r\n\r\n        textarea = this._checkCodeMirror(options, textarea);\r\n    \r\n        return {\r\n            constructed: {\r\n                _top: top_div,\r\n                _relative: relative,\r\n                _toolBar: tool_bar.element,\r\n                _menuTray: tool_bar._menuTray,\r\n                _editorArea: editor_div,\r\n                _wysiwygArea: wysiwyg_div,\r\n                _codeArea: textarea,\r\n                _placeholder: placeholder_span,\r\n                _resizingBar: resizing_bar,\r\n                _navigation: navigation,\r\n                _charWrapper: char_wrapper,\r\n                _charCounter: char_counter,\r\n                _loading: loading_box,\r\n                _lineBreaker: line_breaker,\r\n                _lineBreaker_t: line_breaker_t,\r\n                _lineBreaker_b: line_breaker_b,\r\n                _resizeBack: resize_back,\r\n                _stickyDummy: sticky_dummy,\r\n                _arrow: arrow\r\n            },\r\n            options: options,\r\n            plugins: tool_bar.plugins,\r\n            pluginCallButtons: tool_bar.pluginCallButtons,\r\n            _responsiveButtons: tool_bar.responsiveButtons\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\r\n    _checkCodeMirror: function (options, textarea) {\r\n        if (options.codeMirror) {\r\n            const cmOptions = [{\r\n                mode: 'htmlmixed',\r\n                htmlMode: true,\r\n                lineNumbers: true,\r\n                lineWrapping: true\r\n            }, (options.codeMirror.options || {})].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (util.hasOwn(option, key)) init[key] = option[key];\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            if (options.height === 'auto') {\r\n                cmOptions.viewportMargin = Infinity;\r\n                cmOptions.height = 'auto';\r\n            }\r\n            \r\n            const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\r\n            cm.display.wrapper.style.cssText = textarea.style.cssText;\r\n            \r\n            options.codeMirrorEditor = cm;\r\n            textarea = cm.display.wrapper;\r\n            textarea.className += ' se-wrapper-code-mirror';\r\n        }\r\n\r\n        return textarea;\r\n    },\r\n\r\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\r\n    _checkKatexMath: function (katex) {\r\n        if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\r\n\r\n        const katexOptions = [{\r\n            throwOnError: false,\r\n        }, (katex.options || {})].reduce(function (init, option) {\r\n            for (let key in option) {\r\n                if (util.hasOwn(option, key)) init[key] = option[key];\r\n            }\r\n            return init;\r\n        }, {});\r\n\r\n        katex.options = katexOptions;\r\n    },\r\n\r\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\r\n    _setOptions: function (mergeOptions, context, originOptions) {\r\n        this._initOptions(context.element.originElement, mergeOptions);\r\n\r\n        const el = context.element;\r\n        const relative = el.relative;\r\n        const editorArea = el.editorArea;\r\n        const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\r\n        const isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.buttonList !== originOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\r\n\r\n        const tool_bar = this._createToolBar(document, (isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList), mergeOptions.plugins, mergeOptions);\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\r\n        const arrow = document.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        if (isNewToolbar) {\r\n            tool_bar.element.style.visibility = 'hidden';\r\n            // toolbar container\r\n            if (isNewToolbarContainer) {\r\n                mergeOptions.toolbarContainer.appendChild(tool_bar.element);\r\n                el.toolbar.parentElement.removeChild(el.toolbar);\r\n            } else {\r\n                el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\r\n            }\r\n\r\n            el.toolbar = tool_bar.element;\r\n            el._menuTray = tool_bar._menuTray;\r\n            el._arrow = arrow;\r\n        }\r\n        \r\n        const initElements = this._initElements(mergeOptions, el.topArea, (isNewToolbar ? tool_bar.element : el.toolbar), arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwygFrame = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let code = initElements.codeView;\r\n\r\n        if (el.resizingBar) relative.removeChild(el.resizingBar);\r\n        if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\r\n\r\n        editorArea.innerHTML = '';\r\n        editorArea.appendChild(code);\r\n        if (placeholder_span) editorArea.appendChild(placeholder_span);\r\n\r\n        code = this._checkCodeMirror(mergeOptions, code);\r\n        \r\n        el.resizingBar = bottomBar.resizingBar;\r\n        el.navigation = bottomBar.navigation;\r\n        el.charWrapper = bottomBar.charWrapper;\r\n        el.charCounter = bottomBar.charCounter;\r\n        el.wysiwygFrame = wysiwygFrame;\r\n        el.code = code;\r\n        el.placeholder = placeholder_span;\r\n\r\n        if (mergeOptions.rtl) util.addClass(el.topArea, 'se-rtl');\r\n        else util.removeClass(el.topArea, 'se-rtl');\r\n\r\n        return {\r\n            callButtons: tool_bar.pluginCallButtons,\r\n            plugins: tool_bar.plugins,\r\n            toolbar: tool_bar\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\r\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\r\n        /** top div */\r\n        topDiv.style.cssText = options._editorStyles.top;\r\n\r\n        /** toolbar */\r\n        if (/inline/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-inline';\r\n            toolBar.style.width = options.toolbarWidth;\r\n        } else if (/balloon/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-balloon';\r\n            toolBar.style.width = options.toolbarWidth;\r\n            toolBar.appendChild(toolBarArrow);\r\n        }\r\n\r\n        /** editor */\r\n        // wysiwyg div or iframe\r\n        const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\r\n        wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\r\n        \r\n        if (!options.iframe) {\r\n            wysiwygDiv.setAttribute('contenteditable', true);\r\n            wysiwygDiv.setAttribute('scrolling', 'auto');\r\n            wysiwygDiv.className += ' ' + options._editableClass;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\r\n        } else {\r\n            wysiwygDiv.allowFullscreen = true;\r\n            wysiwygDiv.frameBorder = 0;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame;\r\n        }\r\n\r\n        // textarea for code view\r\n        const textarea = document.createElement('TEXTAREA');\r\n        textarea.className = 'se-wrapper-inner se-wrapper-code';\r\n        textarea.style.cssText = options._editorStyles.frame;\r\n        textarea.style.display = 'none';\r\n        if (options.height === 'auto') textarea.style.overflow = 'hidden';\r\n\r\n        /** resize bar */\r\n        let resizingBar = null;\r\n        let navigation = null;\r\n        let charWrapper = null;\r\n        let charCounter = null;\r\n        if (options.resizingBar) {\r\n            resizingBar = document.createElement('DIV');\r\n            resizingBar.className = 'se-resizing-bar sun-editor-common';\r\n\r\n            /** navigation */\r\n            navigation = document.createElement('DIV');\r\n            navigation.className = 'se-navigation sun-editor-common';\r\n            resizingBar.appendChild(navigation);\r\n\r\n            /** char counter */\r\n            if (options.charCounter) {\r\n                charWrapper = document.createElement('DIV');\r\n                charWrapper.className = 'se-char-counter-wrapper';\r\n\r\n                if (options.charCounterLabel) {\r\n                    const charLabel = document.createElement('SPAN');\r\n                    charLabel.className = 'se-char-label';\r\n                    charLabel.textContent = options.charCounterLabel;\r\n                    charWrapper.appendChild(charLabel);\r\n                }\r\n    \r\n                charCounter = document.createElement('SPAN');\r\n                charCounter.className = 'se-char-counter';\r\n                charCounter.textContent = '0';\r\n                charWrapper.appendChild(charCounter);\r\n    \r\n                if (options.maxCharCount > 0) {\r\n                    const char_max = document.createElement('SPAN');\r\n                    char_max.textContent = ' / ' + options.maxCharCount;\r\n                    charWrapper.appendChild(char_max);\r\n                }\r\n\r\n                resizingBar.appendChild(charWrapper);\r\n            }\r\n        }\r\n        \r\n        let placeholder = null;\r\n        if (options.placeholder) {\r\n            placeholder = document.createElement('SPAN');\r\n            placeholder.className = 'se-placeholder';\r\n            placeholder.innerText = options.placeholder;\r\n        }\r\n\r\n        return {\r\n            bottomBar: {\r\n                resizingBar: resizingBar,\r\n                navigation: navigation,\r\n                charWrapper: charWrapper,\r\n                charCounter: charCounter\r\n            },\r\n            wysiwygFrame: wysiwygDiv,\r\n            codeView: textarea,\r\n            placeholder: placeholder\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\r\n    _initOptions: function (element, options) {\r\n        /** Values */\r\n        options.lang = options.lang || _defaultLang;\r\n        options.defaultTag = typeof options.defaultTag === 'string' ? options.defaultTag : 'p';\r\n        const textTags = options.textTags = [{bold: 'STRONG', underline: 'U', italic: 'EM', strike: 'DEL', sub: 'SUB', sup: 'SUP'}, (options.textTags || {})].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        options._textTagsMap = {\r\n            'strong': textTags.bold.toLowerCase(),\r\n            'b': textTags.bold.toLowerCase(),\r\n            'u': textTags.underline.toLowerCase(),\r\n            'ins': textTags.underline.toLowerCase(),\r\n            'em': textTags.italic.toLowerCase(),\r\n            'i': textTags.italic.toLowerCase(),\r\n            'del': textTags.strike.toLowerCase(),\r\n            'strike': textTags.strike.toLowerCase(),\r\n            's': textTags.strike.toLowerCase(),\r\n            'sub': textTags.sub.toLowerCase(),\r\n            'sup': textTags.sup.toLowerCase()\r\n        };\r\n        options.value = typeof options.value === 'string' ? options.value : null;\r\n        options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\r\n        /** Whitelist */\r\n        const whitelist = 'br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary';\r\n        options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : whitelist;\r\n        options._editorTagsWhitelist = this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : ''), options.tagsBlacklist);\r\n        options.pasteTagsWhitelist = this._setWhitelist(typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist);\r\n        options.attributesWhitelist = (!options.attributesWhitelist || typeof options.attributesWhitelist !== 'object') ? null : options.attributesWhitelist;\r\n        /** Layout */\r\n        options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\r\n        options.rtl = !!options.rtl;\r\n        options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\r\n        options._printClass = typeof options._printClass === 'string' ? options._printClass : null;\r\n        options.toolbarWidth = options.toolbarWidth ? (util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth) : 'auto';\r\n        options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\r\n        options.stickyToolbar = (/balloon/i.test(options.mode) || !!options.toolbarContainer) ? -1 : options.stickyToolbar === undefined ? 0 : (/^\\d+/.test(options.stickyToolbar) ? util.getNumber(options.stickyToolbar, 0) : -1);\r\n        options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : (/^\\d+/.test(options.fullScreenOffset) ? util.getNumber(options.fullScreenOffset, 0) : 0);\r\n        options.iframe = options.fullPage || options.iframe;\r\n        options.fullPage = !!options.fullPage;\r\n        options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : (options.iframeCSSFileName || ['suneditor']) : null;\r\n        options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\r\n        options.printTemplate = typeof options.printTemplate === 'string' ? options.printTemplate : null;\r\n        /** CodeMirror object */\r\n        options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {src: options.codeMirror} : null;\r\n        /** katex object (Math plugin) */\r\n        options.katex = options.katex ? options.katex.src ? options.katex : {src: options.katex} : null;\r\n        options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [\r\n            {text: '1', value: '1em'},\r\n            {text: '1.5', value: '1.5em'},\r\n            {text: '2', value: '2em'},\r\n            {text: '2.5', value: '2.5em'}\r\n        ];\r\n        /** Display */\r\n        options.position = typeof options.position === 'string' ? options.position : null;\r\n        options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\r\n        options.popupDisplay = options.popupDisplay || 'full';\r\n        /** Bottom resizing bar */\r\n        options.resizingBar = options.resizingBar === undefined ? (/inline|balloon/i.test(options.mode) ? false : true) : options.resizingBar;\r\n        options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\r\n        /** Character count */\r\n        options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\r\n        options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\r\n        options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\r\n        options.maxCharCount = util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\r\n        /** Width size */\r\n        options.width = options.width ? (util.isNumber(options.width) ? options.width + 'px' : options.width) : (element.clientWidth ? element.clientWidth + 'px' : '100%');\r\n        options.minWidth = (util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\r\n        options.maxWidth = (util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\r\n        /** Height size */\r\n        options.height = options.height ? (util.isNumber(options.height) ? options.height + 'px' : options.height) : (element.clientHeight ? element.clientHeight + 'px' : 'auto');\r\n        options.minHeight = (util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\r\n        options.maxHeight = (util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\r\n        /** Editing area default style */\r\n        options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\r\n        /** Defining menu items */\r\n        options.font = !options.font ? null : options.font;\r\n        options.fontSize = !options.fontSize ? null : options.fontSize;\r\n        options.formats = !options.formats ? null : options.formats;\r\n        options.colorList = !options.colorList ? null : options.colorList;\r\n        options.lineHeights = !options.lineHeights ? null : options.lineHeights;\r\n        options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\r\n        options.textStyles = !options.textStyles ? null : options.textStyles;\r\n        options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? (options.fontSizeUnit.trim() || 'px') : 'px';\r\n        /** Image */\r\n        options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\r\n        options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\r\n        options.imageWidth = !options.imageWidth ? 'auto' : util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\r\n        options.imageHeight = !options.imageHeight ? 'auto' : util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\r\n        options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\r\n        options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\r\n        options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\r\n        options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\r\n        options.imageUrlInput = (options.imageUrlInput === undefined || !options.imageFileInput) ? true : options.imageUrlInput;\r\n        options.imageUploadHeader = options.imageUploadHeader || null;\r\n        options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\r\n        options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? util.getNumber(options.imageUploadSizeLimit, 0) : null;\r\n        options.imageMultipleFile = !!options.imageMultipleFile;\r\n        options.imageAccept = (typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\") ? 'image/*' : options.imageAccept.trim() || 'image/*';\r\n        /** Image - image gallery */\r\n        options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\r\n        options.imageGalleryHeader = options.imageGalleryHeader || null;\r\n        /** Video */\r\n        options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\r\n        options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\r\n        options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\r\n        options.videoWidth = !options.videoWidth || !util.getNumber(options.videoWidth, 0) ? '' : util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\r\n        options.videoHeight = !options.videoHeight || !util.getNumber(options.videoHeight, 0) ? '' : util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\r\n        options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\r\n        options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\r\n        options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\r\n        options.videoRatio = (util.getNumber(options.videoRatio, 4) || 0.5625);\r\n        options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\r\n        options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\r\n        options.videoFileInput = !!options.videoFileInput;\r\n        options.videoUrlInput = (options.videoUrlInput === undefined || !options.videoFileInput) ? true : options.videoUrlInput;\r\n        options.videoUploadHeader = options.videoUploadHeader || null;\r\n        options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\r\n        options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? util.getNumber(options.videoUploadSizeLimit, 0) : null;\r\n        options.videoMultipleFile = !!options.videoMultipleFile;\r\n        options.videoTagAttrs = options.videoTagAttrs || null;\r\n        options.videoIframeAttrs = options.videoIframeAttrs || null;\r\n        options.videoAccept = (typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\") ? 'video/*' : options.videoAccept.trim() || 'video/*';\r\n        /** Audio */\r\n        options.audioWidth = !options.audioWidth ? '' : util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\r\n        options.audioHeight = !options.audioHeight ? '' : util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\r\n        options.audioFileInput = !!options.audioFileInput;\r\n        options.audioUrlInput = (options.audioUrlInput === undefined || !options.audioFileInput) ? true : options.audioUrlInput;\r\n        options.audioUploadHeader = options.audioUploadHeader || null;\r\n        options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\r\n        options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? util.getNumber(options.audioUploadSizeLimit, 0) : null;\r\n        options.audioMultipleFile = !!options.audioMultipleFile;\r\n        options.audioTagAttrs = options.audioTagAttrs || null;\r\n        options.audioAccept = (typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\") ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\r\n        /** Table */\r\n        options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\r\n        /** Link */\r\n        options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\r\n        options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\r\n        options.linkRelDefault = options.linkRelDefault || {};\r\n        /** Key actions */\r\n        options.tabDisable = !!options.tabDisable;\r\n        options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\r\n        options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\r\n        /** Defining save button */\r\n        options.callBackSave = !options.callBackSave ? null : options.callBackSave;\r\n        /** Templates Array */\r\n        options.templates = !options.templates ? null : options.templates;\r\n        /** ETC */\r\n        options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\r\n        options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\r\n        /** Buttons */\r\n        options.buttonList = !!options.buttonList ? options.buttonList : [\r\n            ['undo', 'redo'],\r\n            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\r\n            ['removeFormat'],\r\n            ['outdent', 'indent'],\r\n            ['fullScreen', 'showBlocks', 'codeView'],\r\n            ['preview', 'print']\r\n        ];\r\n\r\n        /** RTL - buttons */\r\n        if (options.rtl) {\r\n            options.buttonList = options.buttonList.reverse();\r\n        }\r\n\r\n        /** --- Define icons --- */\r\n        // custom icons\r\n        options.icons = (!options.icons || typeof options.icons !== 'object') ? _icons : [_icons, options.icons].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        // rtl icons\r\n        options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n\r\n        /** _init options */\r\n        options._editorStyles = util._setDefaultOptionStyle(options, options.defaultStyle);\r\n    },\r\n\r\n    _setWhitelist: function (whitelist, blacklist) {\r\n        if (typeof blacklist !== 'string') return whitelist;\r\n        blacklist = blacklist.split('|');\r\n        whitelist = whitelist.split('|');\r\n        for (let i = 0, len = blacklist.length, index; i < len; i++) {\r\n            index = whitelist.indexOf(blacklist[i]);\r\n            if (index > -1) whitelist.splice(index, 1);\r\n        }\r\n        return whitelist.join('|');\r\n    },\r\n\r\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\r\n    _defaultButtons: function (options) {\r\n        const icons = options.icons;\r\n        const lang = options.lang;\r\n        const cmd = util.isOSX_IOS ? '⌘' : 'CTRL';\r\n        const addShift = util.isOSX_IOS ? '⇧' : '+SHIFT';\r\n        const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent', 'save'] : options.shortcutsDisable;\r\n        const indentKey = options.rtl ? ['[',']'] : [']','['];\r\n\r\n        return {\r\n            /** default command */\r\n            bold: ['_se_command_bold', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'bold', '', icons.bold],\r\n            underline: ['_se_command_underline', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'underline', '', icons.underline],\r\n            italic: ['_se_command_italic', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'italic', '', icons.italic],\r\n            strike: ['_se_command_strike', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'strike', '', icons.strike],\r\n            subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\r\n            superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\r\n            removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\r\n            indent: ['_se_command_indent', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', icons.outdent],\r\n            outdent: ['_se_command_outdent', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', icons.indent],\r\n            fullScreen: ['se-code-view-enabled se-resizing-enabled _se_command_fullScreen', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\r\n            showBlocks: ['_se_command_showBlocks', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\r\n            codeView: ['se-code-view-enabled se-resizing-enabled _se_command_codeView', lang.toolbar.codeView, 'codeView', '', icons.code_view],\r\n            undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\r\n            redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\r\n            preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\r\n            print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\r\n            save: ['_se_command_save se-resizing-enabled', lang.toolbar.save + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('save') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'save', '', icons.save],\r\n            /** plugins - command */\r\n            blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\r\n            /** plugins - submenu */\r\n            font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\r\n            formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\r\n            fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\r\n            fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\r\n            hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\r\n            align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', (options.rtl ? icons.align_right : icons.align_left)],\r\n            list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\r\n            horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\r\n            table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\r\n            lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\r\n            template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\r\n            paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\r\n            textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\r\n            /** plugins - dialog */\r\n            link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\r\n            image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\r\n            video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\r\n            audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\r\n            math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\r\n            /** plugins - fileBrowser */\r\n            imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createModuleGroup: function () {\r\n        const oDiv = util.createElement('DIV');\r\n        oDiv.className = 'se-btn-module se-btn-module-border';\r\n\r\n        const oUl = util.createElement('UL');\r\n        oUl.className = 'se-menu-list';\r\n        oDiv.appendChild(oUl);\r\n\r\n        return {\r\n            'div': oDiv,\r\n            'ul': oUl\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\r\n        const oLi = util.createElement('LI');\r\n        const oButton = util.createElement('BUTTON');\r\n\r\n        oButton.setAttribute('type', 'button');\r\n        oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\r\n        oButton.setAttribute('data-command', dataCommand);\r\n        oButton.setAttribute('data-display', dataDisplay);\r\n        oButton.setAttribute('tabindex', '-1');\r\n        \r\n        if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\r\n        if (/^default\\./i.test(innerHTML)) {\r\n            innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\r\n        }\r\n        if (/^text\\./i.test(innerHTML)) {\r\n            innerHTML = innerHTML.replace(/^text\\./i, '');\r\n            oButton.className += ' se-btn-more-text';\r\n        }\r\n\r\n        innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\r\n\r\n        if (_disabled) oButton.setAttribute('disabled', true);\r\n        \r\n        oButton.innerHTML = innerHTML;\r\n        oLi.appendChild(oButton);\r\n\r\n        return {\r\n            'li': oLi,\r\n            'button': oButton\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Array|Object|null} _plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\r\n    _createToolBar: function (doc, buttonList, _plugins, options) {\r\n        const separator_vertical = doc.createElement('DIV');\r\n        separator_vertical.className = 'se-toolbar-separator-vertical';\r\n\r\n        const tool_bar = doc.createElement('DIV');\r\n        tool_bar.className = 'se-toolbar sun-editor-common';\r\n\r\n        const _buttonTray = doc.createElement('DIV');\r\n        _buttonTray.className = 'se-btn-tray';\r\n        tool_bar.appendChild(_buttonTray);\r\n\r\n        /** create button list */\r\n        buttonList = JSON.parse(JSON.stringify(buttonList));\r\n        const icons = options.icons;\r\n        const defaultButtonList = this._defaultButtons(options);\r\n        const pluginCallButtons = {};\r\n        const responsiveButtons = [];\r\n        const plugins = {};\r\n        if (_plugins) {\r\n            const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function(name) { return _plugins[name]; });\r\n            for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\r\n                p = pluginsValues[i].default || pluginsValues[i];\r\n                plugins[p.name] = p;\r\n            }\r\n        }\r\n\r\n        let module = null;\r\n        let button = null;\r\n        let moduleElement = null;\r\n        let buttonElement = null;\r\n        let pluginName = '';\r\n        let vertical = false;\r\n        const moreLayer = util.createElement('DIV');\r\n        moreLayer.className = 'se-toolbar-more-layer';\r\n\r\n        buttonGroupLoop:\r\n        for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\r\n            more = false;\r\n            align = '';\r\n            buttonGroup = buttonList[i];\r\n            moduleElement = this._createModuleGroup();\r\n\r\n            // button object\r\n            if (typeof buttonGroup === 'object') {\r\n                // buttons loop\r\n                for (let j = 0, moreButton; j < buttonGroup.length; j++) {\r\n                    button = buttonGroup[j];\r\n                    moreButton = false;\r\n\r\n                    if (/^\\%\\d+/.test(button) && j === 0) {\r\n                        buttonGroup[0] = button.replace(/[^\\d]/g, '');\r\n                        responsiveButtons.push(buttonGroup);\r\n                        buttonList.splice(i--, 1);\r\n                        continue buttonGroupLoop;\r\n                    }\r\n                    \r\n                    if (typeof button === 'object') {\r\n                        if (typeof button.add === 'function') {\r\n                            pluginName = button.name;\r\n                            module = defaultButtonList[pluginName];\r\n                            plugins[pluginName] = button;\r\n                        } else {\r\n                            pluginName = button.name;\r\n                            module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\r\n                        }\r\n                    } else {\r\n                        // align\r\n                        if (/^\\-/.test(button)) {\r\n                            align = button.substr(1);\r\n                            moduleElement.div.style.float = align;\r\n                            continue;\r\n                        }\r\n                        \r\n                        // more button\r\n                        if (/^\\:/.test(button)) {\r\n                            moreButton = true;\r\n                            const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\r\n                            moreCommand = '__se__' + matched[1].trim();\r\n                            const title = matched[2].trim();\r\n                            const innerHTML = matched[3].trim();\r\n                            module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\r\n                        }\r\n                        // buttons\r\n                        else {\r\n                            module = defaultButtonList[button];\r\n                        }\r\n\r\n                        pluginName = button;\r\n                        if (!module) {\r\n                            const custom = plugins[pluginName];\r\n                            if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\r\n                            module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\r\n                        }\r\n                    }\r\n\r\n                    buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\r\n                    (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\r\n\r\n                    if (plugins[pluginName]) {\r\n                        pluginCallButtons[pluginName] = buttonElement.button;\r\n                    }\r\n\r\n                    // more button\r\n                    if (moreButton) {\r\n                        more = true;\r\n                        moreContainer = util.createElement('DIV');\r\n                        moreContainer.className = 'se-more-layer ' + moreCommand;\r\n                        moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\r\n                        moreLayer.appendChild(moreContainer);\r\n                        moreContainer = moreContainer.firstElementChild.firstElementChild;\r\n                    }\r\n                }\r\n\r\n                if (vertical) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n                \r\n                _buttonTray.appendChild(moduleElement.div);\r\n                vertical = true;\r\n            }\r\n            /** line break  */\r\n            else if (/^\\/$/.test(buttonGroup)) {\r\n                const enterDiv = doc.createElement('DIV');\r\n                enterDiv.className = 'se-btn-module-enter';\r\n                _buttonTray.appendChild(enterDiv);\r\n                vertical = false;\r\n            }\r\n        }\r\n\r\n        switch (_buttonTray.children.length) {\r\n            case 0:\r\n                _buttonTray.style.display = 'none';\r\n                break;\r\n            case 1:\r\n                util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\r\n                break;\r\n            default:\r\n                if (options.rtl) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    sv.style.float = _buttonTray.lastElementChild.style.float;\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n        }\r\n\r\n        if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\r\n        if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer);\r\n\r\n        // menu tray\r\n        const _menuTray = doc.createElement('DIV');\r\n        _menuTray.className = 'se-menu-tray';\r\n        tool_bar.appendChild(_menuTray);\r\n\r\n        // cover\r\n        const tool_cover = doc.createElement('DIV');\r\n        tool_cover.className = 'se-toolbar-cover';\r\n        tool_bar.appendChild(tool_cover);\r\n\r\n        return {\r\n            'element': tool_bar,\r\n            'plugins': plugins,\r\n            'pluginCallButtons': pluginCallButtons,\r\n            'responsiveButtons': responsiveButtons,\r\n            '_menuTray': _menuTray,\r\n            '_buttonTray': _buttonTray\r\n        };\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}