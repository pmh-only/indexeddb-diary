{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 20197 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'lineHeight',\n  display: 'submenu',\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.lineHeight = {\n      _sizeList: null,\n      currentSize: -1\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector('ul');\n    /** add event listeners */\n\n    listUl.addEventListener('click', this.pickup.bind(core));\n    context.lineHeight._sizeList = listUl.querySelectorAll('li button');\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement('DIV');\n    listDiv.className = 'se-submenu se-list-layer';\n    var sizeList = !option.lineHeights ? [{\n      text: '1',\n      value: 1\n    }, {\n      text: '1.15',\n      value: 1.15\n    }, {\n      text: '1.5',\n      value: 1.5\n    }, {\n      text: '2',\n      value: 2\n    }] : option.lineHeights;\n    var list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n    for (var i = 0, len = sizeList.length, size; i < len; i++) {\n      size = sizeList[i];\n      list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + '</button></li>';\n    }\n\n    list += '</ul></div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\n  * @Override submenu\n  */\n  on: function on() {\n    var lineHeightContext = this.context.lineHeight;\n    var sizeList = lineHeightContext._sizeList;\n    var format = this.util.getFormatElement(this.getSelectionNode());\n    var currentSize = !format ? '' : format.style.lineHeight + '';\n\n    if (currentSize !== lineHeightContext.currentSize) {\n      for (var i = 0, len = sizeList.length; i < len; i++) {\n        if (currentSize === sizeList[i].getAttribute('data-value')) {\n          this.util.addClass(sizeList[i], 'active');\n        } else {\n          this.util.removeClass(sizeList[i], 'active');\n        }\n      }\n\n      lineHeightContext.currentSize = currentSize;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute('data-value') || '';\n    var formats = this.getSelectedElements();\n\n    for (var i = 0, len = formats.length; i < len; i++) {\n      formats[i].style.lineHeight = value;\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};","map":{"version":3,"sources":["/github/workspace/node_modules/suneditor/src/plugins/submenu/lineHeight.js"],"names":["name","display","add","core","targetElement","context","lineHeight","_sizeList","currentSize","listDiv","setSubmenu","listUl","querySelector","addEventListener","pickup","bind","querySelectorAll","initMenuTarget","option","options","lang","util","createElement","className","sizeList","lineHeights","text","value","list","toolbar","default","i","len","length","size","innerHTML","on","lineHeightContext","format","getFormatElement","getSelectionNode","style","getAttribute","addClass","removeClass","e","test","target","tagName","preventDefault","stopPropagation","formats","getSelectedElements","submenuOff","history","push"],"mappings":"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","sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 20197 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n    name: 'lineHeight',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.lineHeight = {\n            _sizeList: null,\n            currentSize: -1\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n\n        context.lineHeight._sizeList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function (core) {\n        const option = core.options;\n        const lang = core.lang;\n        const listDiv = core.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer';\n\n        const sizeList = !option.lineHeights ? [\n            {text: '1', value: 1},\n            {text: '1.15', value: 1.15},\n            {text: '1.5', value: 1.5},\n            {text: '2', value: 2}\n        ] : option.lineHeights;\n\n        let list = '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (let i = 0, len = sizeList.length, size; i < len; i++) {\n            size = sizeList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const lineHeightContext = this.context.lineHeight;\n        const sizeList = lineHeightContext._sizeList;\n        const format = this.util.getFormatElement(this.getSelectionNode());\n        const currentSize = !format ? '' : format.style.lineHeight + '';\n\n        if (currentSize !== lineHeightContext.currentSize) {\n            for (let i = 0, len = sizeList.length; i < len; i++) {\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\n                    this.util.addClass(sizeList[i], 'active');\n                } else {\n                    this.util.removeClass(sizeList[i], 'active');\n                }\n            }\n\n            lineHeightContext.currentSize = currentSize;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n        \n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value') || '';\n        const formats = this.getSelectedElements();\n\n        for (let i = 0, len = formats.length; i < len; i++) {\n            formats[i].style.lineHeight = value;\n        }\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n};\n"]},"metadata":{},"sourceType":"module"}