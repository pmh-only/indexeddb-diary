{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'horizontalRule',\n  display: 'submenu',\n  add: function add(core, targetElement) {\n    core.context.horizontalRule = {\n      currentHR: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var listDiv = core.util.createElement('DIV');\n    listDiv.className = 'se-submenu se-list-layer se-list-line';\n    listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '</ul>' + '</div>';\n    return listDiv;\n  },\n  active: function active(element) {\n    if (!element) {\n      if (this.util.hasClass(this.context.horizontalRule.currentHR, 'on')) {\n        this.controllersOff();\n      }\n    } else if (/HR/i.test(element.nodeName)) {\n      this.context.horizontalRule.currentHR = element;\n\n      if (!this.util.hasClass(element, 'on')) {\n        this.util.addClass(element, 'on');\n        this.controllersOn('hr', this.util.removeClass.bind(this.util, element, 'on'));\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n  appendHr: function appendHr(className) {\n    var oHr = this.util.createElement('HR');\n    oHr.className = className;\n    this.focus();\n    return this.insertComponent(oHr, false, true, false);\n  },\n  horizontalRulePick: function horizontalRulePick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      value = target.getAttribute('data-value');\n      target = target.parentNode;\n    }\n\n    if (!value) return;\n    var oNode = this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\n\n    if (oNode) {\n      this.setRange(oNode, 0, oNode, 0);\n      this.submenuOff();\n    }\n  }\n};","map":{"version":3,"sources":["/github/workspace/node_modules/suneditor/src/plugins/submenu/horizontalRule.js"],"names":["name","display","add","core","targetElement","context","horizontalRule","currentHR","listDiv","setSubmenu","querySelector","addEventListener","horizontalRulePick","bind","initMenuTarget","lang","util","createElement","className","innerHTML","toolbar","hr_solid","hr_dotted","hr_dashed","active","element","hasClass","controllersOff","test","nodeName","addClass","controllersOn","removeClass","appendHr","oHr","focus","insertComponent","e","preventDefault","stopPropagation","target","value","tagName","getAttribute","parentNode","oNode","plugins","call","setRange","submenuOff"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe;AACXA,EAAAA,IAAI,EAAE,gBADK;AAEXC,EAAAA,OAAO,EAAE,SAFE;AAGXC,EAAAA,GAAG,EAAE,aAAUC,IAAV,EAAgBC,aAAhB,EAA+B;AAChCD,IAAAA,IAAI,CAACE,OAAL,CAAaC,cAAb,GAA8B;AAC1BC,MAAAA,SAAS,EAAE;AADe,KAA9B;AAIA;;AACA,QAAIC,OAAO,GAAG,KAAKC,UAAL,CAAgBN,IAAhB,CAAd;AAEA;;AACAK,IAAAA,OAAO,CAACE,aAAR,CAAsB,IAAtB,EAA4BC,gBAA5B,CAA6C,OAA7C,EAAsD,KAAKC,kBAAL,CAAwBC,IAAxB,CAA6BV,IAA7B,CAAtD;AAEA;;AACAA,IAAAA,IAAI,CAACW,cAAL,CAAoB,KAAKd,IAAzB,EAA+BI,aAA/B,EAA8CI,OAA9C;AAEA;;AACAA,IAAAA,OAAO,GAAG,IAAV;AACH,GAnBU;AAqBXC,EAAAA,UAAU,EAAE,oBAAUN,IAAV,EAAgB;AACxB,QAAMY,IAAI,GAAGZ,IAAI,CAACY,IAAlB;AACA,QAAMP,OAAO,GAAGL,IAAI,CAACa,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AAEAT,IAAAA,OAAO,CAACU,SAAR,GAAoB,uCAApB;AACAV,IAAAA,OAAO,CAACW,SAAR,GAAoB,KAChB,6BADgB,GAEZ,4BAFY,GAGR,MAHQ,GAIJ,6GAJI,GAI4GJ,IAAI,CAACK,OAAL,CAAaC,QAJzH,GAIoI,IAJpI,GAKA,+HALA,GAMJ,WANI,GAOR,OAPQ,GAQR,MARQ,GASJ,8GATI,GAS6GN,IAAI,CAACK,OAAL,CAAaE,SAT1H,GASsI,IATtI,GAUA,gIAVA,GAWJ,WAXI,GAYR,OAZQ,GAaR,MAbQ,GAcJ,8GAdI,GAc6GP,IAAI,CAACK,OAAL,CAAaG,SAd1H,GAcsI,IAdtI,GAeA,gIAfA,GAgBJ,WAhBI,GAiBR,OAjBQ,GAkBZ,OAlBY,GAmBhB,QAnBJ;AAqBA,WAAOf,OAAP;AACH,GAhDU;AAkDXgB,EAAAA,MAAM,EAAE,gBAAUC,OAAV,EAAmB;AACvB,QAAI,CAACA,OAAL,EAAc;AACV,UAAI,KAAKT,IAAL,CAAUU,QAAV,CAAmB,KAAKrB,OAAL,CAAaC,cAAb,CAA4BC,SAA/C,EAA0D,IAA1D,CAAJ,EAAqE;AACjE,aAAKoB,cAAL;AACH;AACJ,KAJD,MAIO,IAAI,MAAMC,IAAN,CAAWH,OAAO,CAACI,QAAnB,CAAJ,EAAkC;AACrC,WAAKxB,OAAL,CAAaC,cAAb,CAA4BC,SAA5B,GAAwCkB,OAAxC;;AACA,UAAI,CAAC,KAAKT,IAAL,CAAUU,QAAV,CAAmBD,OAAnB,EAA4B,IAA5B,CAAL,EAAwC;AACpC,aAAKT,IAAL,CAAUc,QAAV,CAAmBL,OAAnB,EAA4B,IAA5B;AACA,aAAKM,aAAL,CAAmB,IAAnB,EAAyB,KAAKf,IAAL,CAAUgB,WAAV,CAAsBnB,IAAtB,CAA2B,KAAKG,IAAhC,EAAsCS,OAAtC,EAA+C,IAA/C,CAAzB;AACH;;AACD,aAAO,IAAP;AACH;;AAED,WAAO,KAAP;AACH,GAjEU;AAmEXQ,EAAAA,QAAQ,EAAE,kBAAUf,SAAV,EAAqB;AAC3B,QAAMgB,GAAG,GAAG,KAAKlB,IAAL,CAAUC,aAAV,CAAwB,IAAxB,CAAZ;AACAiB,IAAAA,GAAG,CAAChB,SAAJ,GAAgBA,SAAhB;AACA,SAAKiB,KAAL;AACA,WAAO,KAAKC,eAAL,CAAqBF,GAArB,EAA0B,KAA1B,EAAiC,IAAjC,EAAuC,KAAvC,CAAP;AACH,GAxEU;AA0EXtB,EAAAA,kBAAkB,EAAE,4BAAUyB,CAAV,EAAa;AAC7BA,IAAAA,CAAC,CAACC,cAAF;AACAD,IAAAA,CAAC,CAACE,eAAF;AAEA,QAAIC,MAAM,GAAGH,CAAC,CAACG,MAAf;AACA,QAAIC,KAAK,GAAG,IAAZ;;AAEA,WAAO,CAACA,KAAD,IAAU,CAAC,MAAMb,IAAN,CAAWY,MAAM,CAACE,OAAlB,CAAlB,EAA8C;AAC1CD,MAAAA,KAAK,GAAGD,MAAM,CAACG,YAAP,CAAoB,YAApB,CAAR;AACAH,MAAAA,MAAM,GAAGA,MAAM,CAACI,UAAhB;AACH;;AAED,QAAI,CAACH,KAAL,EAAY;AAEZ,QAAMI,KAAK,GAAG,KAAKC,OAAL,CAAaxC,cAAb,CAA4B2B,QAA5B,CAAqCc,IAArC,CAA0C,IAA1C,EAAgD,WAAWN,KAA3D,CAAd;;AACA,QAAII,KAAJ,EAAW;AACP,WAAKG,QAAL,CAAcH,KAAd,EAAqB,CAArB,EAAwBA,KAAxB,EAA+B,CAA/B;AACA,WAAKI,UAAL;AACH;AACJ;AA7FU,CAAf","sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n    name: 'horizontalRule',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        core.context.horizontalRule = {\n            currentHR: null,\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (core) {\n        const lang = core.lang;\n        const listDiv = core.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer se-list-line';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                        '</button>' +\n                    '</li>' +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    active: function (element) {\n        if (!element) {\n            if (this.util.hasClass(this.context.horizontalRule.currentHR, 'on')) {\n                this.controllersOff();\n            }\n        } else if (/HR/i.test(element.nodeName)) {\n            this.context.horizontalRule.currentHR = element;\n            if (!this.util.hasClass(element, 'on')) {\n                this.util.addClass(element, 'on');\n                this.controllersOn('hr', this.util.removeClass.bind(this.util, element, 'on'));\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    appendHr: function (className) {\n        const oHr = this.util.createElement('HR');\n        oHr.className = className;\n        this.focus();\n        return this.insertComponent(oHr, false, true, false);\n    },\n\n    horizontalRulePick: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n        \n        while (!value && !/UL/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        const oNode = this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\n        if (oNode) {\n            this.setRange(oNode, 0, oNode, 0);\n            this.submenuOff();\n        }\n    }\n};\n"]},"metadata":{},"sourceType":"module"}